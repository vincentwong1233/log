ok
Config
2017-08-10T08:00:32.194Z
Cognito
the cognitoidentity is [object Object]
SNS
setting tcp
setting sns
PostAPI
PostAPI_Chat
PostAPI_Wall
PostAPI_Pet
PostAPI_Chips
PostAPI_Login
PostAPI_Shop
PostAPI_Debug
Game init
======================
apiPort listening 2492
tcpPort listening 3000
======================
Server listening at port 3000
[0mGET / [32m200 [0m5.756 ms - 11[0m
[0mGET / [32m200 [0m11.771 ms - 11[0m
[0mGET / [32m200 [0m2.344 ms - 11[0m
[0mGET / [32m200 [0m3.782 ms - 11[0m
check_phone_number_exist log [object Object]
[0mPOST /check_phone_number_exist/nosql [32m200 [0m44.355 ms - 683[0m
login_register {"country_code":"UvZ+8tOpCc3DNB8rlCAGbg==","id":"vincent9","phone_number":"UxCQB+8PgJNtygSPeDbjEA=="}
login_register decrypt phone number 85268425349
{ IdentityId: 'us-east-1:7f9ab4fc-ae50-4852-a14b-5889a4d6fb6c',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6N2Y5YWI0ZmMtYWU1MC00ODUyLWExNGItNTg4OWE0ZDZmYjZjIiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTo4NTI2ODQyNTM0OSJdLCJpc3MiOiJodHRwczovL2NvZ25pdG8taWRlbnRpdHkuYW1hem9uYXdzLmNvbSIsImV4cCI6MTUwMjM1NTY2MCwiaWF0IjoxNTAyMzUyMDYwfQ.FPV5J-LdGvaRAVPlMrtJVCRlWBnjoyjBjDCGjuqqUVUA8rHQ1Kx3T8QFi8CnzKwGL5GZoV-axOMhOp5yps-7EJerpqsmtFPdkhi3w-SKzH6S4vRJf_ARg1WiS-dO20TyPgC3cEDhclqv_Wj7G5BhIdK8MPfZPUyWpvtD8oM4IinmHHwtPn74kwmDiF0rAbh0W8Uz02PocVIuJTIvSjWqWFSKN1oW2RY_uuy09uM5_5eJO8YlxPe5cddQjp1EEkeCsuBrRmFBV2Vef3cLbL2dtGvCcbqFM1gJayOEChKaqeJc-j-n6NgC_8kzEruC7thxsh36ywL9q2JcxrmjkBAb8Q' }
{ status: 'success',
  action: 'awesomeId occupied',
  item: 
   { email: '(null)',
     name: 'v9999',
     head_image: '040E8734-6095-437A-BAD7-A0D808F2B5F4-9363-000005EA5345ED4D.png',
     awesome_chips: '2152',
     phone_number: '68425349',
     zodiac: '470',
     date_of_birth: '2016-11-13 16:00:00 +0000',
     info: '',
     outstanding_chips: '',
     country_code: '852',
     facebook_id: '(null)',
     pet_name: 'fdgdgdè¿¬',
     pet_type: '2',
     pet_color: '0' } }
{ status: 'success',
  action: 'awesomeId occupied',
  item: 
   { email: '(null)',
     name: 'v9999',
     head_image: '040E8734-6095-437A-BAD7-A0D808F2B5F4-9363-000005EA5345ED4D.png',
     awesome_chips: '2152',
     phone_number: '68425349',
     zodiac: '470',
     date_of_birth: '2016-11-13 16:00:00 +0000',
     info: '',
     outstanding_chips: '',
     country_code: '852',
     facebook_id: '(null)',
     pet_name: 'fdgdgdè¿¬',
     pet_type: '2',
     pet_color: '0' } }
login completed
[0mPOST /login_register/nosql [32m200 [0m122.531 ms - 408[0m
check_phone_number_exist log [object Object]
[0mPOST /check_phone_number_exist/nosql [32m200 [0m25.502 ms - 683[0m
login_register {"country_code":"UvZ+8tOpCc3DNB8rlCAGbg==","id":"vincent9","phone_number":"UxCQB+8PgJNtygSPeDbjEA=="}
login_register decrypt phone number 85268425349
{ IdentityId: 'us-east-1:7f9ab4fc-ae50-4852-a14b-5889a4d6fb6c',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6N2Y5YWI0ZmMtYWU1MC00ODUyLWExNGItNTg4OWE0ZDZmYjZjIiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTo4NTI2ODQyNTM0OSJdLCJpc3MiOiJodHRwczovL2NvZ25pdG8taWRlbnRpdHkuYW1hem9uYXdzLmNvbSIsImV4cCI6MTUwMjM1NTY2MiwiaWF0IjoxNTAyMzUyMDYyfQ.gbYaRwsybgfCyTIGnJp05DKQPAcCWg4yG5OFFNRRhe6flNO2y8Wpa5RNjfwQnVOO5lXBNlgBC5tJTriIA9nOjLVdMp75ye4qaZFfGSaJsIPTqmQ_ADpIZhcdCOhWv59TCWlY9rFYdANQihCMIjv1xBv4V0FW4L8IpuxRUb9w5tT0DxvonT14L8cKRmDzauHaPDdZDXmB3ojQa6-3Et5VNIAux6jOMhecw8tYHYHcbw2xNR3C-n0zM71kgpPXWoauyE5Wqaz-J-038qdo_j7GRKaAOPFBxfaBicfLGPsaXCpPSqO77rgLmQe6Wn5IFSeSQM0qObg0qOQropK2birRng' }
{ status: 'success',
  action: 'awesomeId occupied',
  item: 
   { email: '(null)',
     name: 'v9999',
     head_image: '040E8734-6095-437A-BAD7-A0D808F2B5F4-9363-000005EA5345ED4D.png',
     awesome_chips: '2152',
     phone_number: '68425349',
     zodiac: '470',
     date_of_birth: '2016-11-13 16:00:00 +0000',
     info: '',
     outstanding_chips: '',
     country_code: '852',
     facebook_id: '(null)',
     pet_name: 'fdgdgdè¿¬',
     pet_type: '2',
     pet_color: '0' } }
{ status: 'success',
  action: 'awesomeId occupied',
  item: 
   { email: '(null)',
     name: 'v9999',
     head_image: '040E8734-6095-437A-BAD7-A0D808F2B5F4-9363-000005EA5345ED4D.png',
     awesome_chips: '2152',
     phone_number: '68425349',
     zodiac: '470',
     date_of_birth: '2016-11-13 16:00:00 +0000',
     info: '',
     outstanding_chips: '',
     country_code: '852',
     facebook_id: '(null)',
     pet_name: 'fdgdgdè¿¬',
     pet_type: '2',
     pet_color: '0' } }
login completed
[0mPOST /login_register/nosql [32m200 [0m107.075 ms - 408[0m
encrypted phone number a4YhnIh2OFsokuZNsDJhuw==
encrypted country code ee+yuOXCLtUQ0mvDOiDtrA==
country code 
phone number phone_number
identityId (null)
get_open_id _phoneNumber phone_number
get_open_id IdentityIdundefined
{ IdentityId: 'us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6NzIxZTUwMTUtODJkYy00ZGRkLTliNzgtOTg3MDg3ZGQxYTU1IiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTpwaG9uZV9udW1iZXIiXSwiaXNzIjoiaHR0cHM6Ly9jb2duaXRvLWlkZW50aXR5LmFtYXpvbmF3cy5jb20iLCJleHAiOjE1MDIzNTU2NjMsImlhdCI6MTUwMjM1MjA2M30.bSLzG7izrZqfJeYhMdcKFIVJIJlnQIScOBgr-n_dv_c5SlKtdaF--gdOQYa8FFkuhDCsfIesuZNKdEKuO2gyMKzl3Ys-NbYuhLPq7m9ZA9meebya2d5BgzPvZ4b6pWpYiFIF9yjwknv-vCU8_xjYZrRoBGaDBmAPRq8dCDRFLhtktoHzz6wxK-WjbURVjr4ipDkP3wzTIbDN9pLDJNTjft7vqTrW2tQh6VMIiGKQyvYFoMGpsc7vTmZY6eS5XaCZWQOzyHeV7yNXQBtCAbJTPQoGFiSV93N1ka_RGQ6dAN1LEAUNxwlSexE3xq6J6p1HCRPzr48QRnT5tHSEsOrITA' }
[0mGET /get_token/a4YhnIh2OFsokuZNsDJhuw==/ee+yuOXCLtUQ0mvDOiDtrA==/(null) [32m200 [0m74.281 ms - 907[0m
login matched
[0mPOST /authorize [32m200 [0m31.059 ms - 164[0m
[0mGET / [32m200 [0m0.536 ms - 11[0m
[0mGET / [32m200 [0m0.311 ms - 11[0m
[0mGET / [32m200 [0m0.736 ms - 11[0m
[0mGET / [32m200 [0m3.076 ms - 11[0m
[0mGET / [32m200 [0m3.301 ms - 11[0m
[0mGET / [32m200 [0m2.891 ms - 11[0m
[0mGET / [32m200 [0m0.530 ms - 11[0m
[0mGET / [32m200 [0m0.315 ms - 11[0m
register_endpoint_v2 E0D4C32B-985C-4E70-81E4-2DC219E5BC6C ed91f6a4e30bf50712770e5527cc22577fcb9d4ef9881bf1e38de9a97e0300fe vincent9 IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m6.604 ms - 20[0m
{ Count: 0, Items: [], ScannedCount: 0 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
[0mGET / [32m200 [0m0.518 ms - 11[0m
[0mGET / [32m200 [0m0.524 ms - 11[0m
[0mGET / [32m200 [0m2.163 ms - 11[0m
[0mGET / [32m200 [0m2.499 ms - 11[0m
[0mGET / [32m200 [0m0.538 ms - 11[0m
[0mGET / [32m200 [0m0.981 ms - 11[0m
[0mGET / [32m200 [0m1.509 ms - 11[0m
[0mGET / [32m200 [0m1.010 ms - 11[0m
[0mGET / [32m200 [0m0.855 ms - 11[0m
[0mGET / [32m200 [0m1.186 ms - 11[0m
[0mGET / [32m200 [0m0.551 ms - 11[0m
[0mGET / [32m200 [0m0.899 ms - 11[0m
[0mGET / [32m200 [0m0.530 ms - 11[0m
[0mGET / [32m200 [0m0.912 ms - 11[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** removeEndPoint ***
[0mPOST /api/v1/logout/nosql [32m200 [0m41.664 ms - 20[0m
*** removeEndPoint arn:aws:sns:us-east-1:442395450210:endpoint/APNS/awsome_apns_production/e219f776-959f-36df-9e2c-46547b36da1c success ***
{ ResponseMetadata: { RequestId: 'fb51b610-f366-56a9-a6db-e416e6f836d3' } }
token deleted
check_phone_number_exist log [object Object]
[0mPOST /check_phone_number_exist/nosql [32m200 [0m34.760 ms - 724[0m
login_register {"country_code":"UvZ+8tOpCc3DNB8rlCAGbg==","id":"vincent7","phone_number":"4Kh0p8Mkm5xrKCtHFvr9ng=="}
login_register decrypt phone number 85268425347
{ IdentityId: 'us-east-1:fd599c80-1dc5-4f7c-a550-560c32f98454',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6ZmQ1OTljODAtMWRjNS00ZjdjLWE1NTAtNTYwYzMyZjk4NDU0IiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTo4NTI2ODQyNTM0NyJdLCJpc3MiOiJodHRwczovL2NvZ25pdG8taWRlbnRpdHkuYW1hem9uYXdzLmNvbSIsImV4cCI6MTUwMjM1NTgyOCwiaWF0IjoxNTAyMzUyMjI4fQ.fYwIim8yZSDPdRyvhubNk6Ic84ICWC9nWck-LWBt9ZYUI7-T9kC1XsP1ykFdrO3O3P07mQ2fD1WhHBmp_yhJLsuU14EjwtfSVUsXv0S7R7_MlFSIr28ALQr9LpF1g-GEk2yebXFBt40KzIYbgoEeyZEHQPIUL_J_PKzgwsFoYjHvF239Hs5mzc0Azqmgd24lG70gvedm25fc1I1pWoHmS0IbTs0Hb9t82lQd2bZ4DpSiWLbJ3GGvFgAHHdx9EckrbYPj1cJC367hnD_RDQ17ezWqsxWQDaniywFkHVAXKbSIJUVI4N_ETNB4Absa0Y9Duyk2xbQnFXMnNGFfJ4sKiA' }
{ status: 'success',
  action: 'awesomeId occupied',
  item: 
   { email: '(null)',
     name: 'Vin7',
     head_image: '923E9E4E-A6CC-42E4-B10F-654FEAE3421A-1407-00000816BE0A40C5.png',
     awesome_chips: '95330',
     phone_number: '68425347',
     zodiac: 'Aquarius',
     date_of_birth: '1990-02-05 16:00:00 +0000',
     info: 'V7890ooo',
     outstanding_chips: '',
     country_code: '852',
     facebook_id: ' ',
     pet_name: '123',
     pet_type: '1',
     pet_color: '1' } }
{ status: 'success',
  action: 'awesomeId occupied',
  item: 
   { email: '(null)',
     name: 'Vin7',
     head_image: '923E9E4E-A6CC-42E4-B10F-654FEAE3421A-1407-00000816BE0A40C5.png',
     awesome_chips: '95330',
     phone_number: '68425347',
     zodiac: 'Aquarius',
     date_of_birth: '1990-02-05 16:00:00 +0000',
     info: 'V7890ooo',
     outstanding_chips: '',
     country_code: '852',
     facebook_id: ' ',
     pet_name: '123',
     pet_type: '1',
     pet_color: '1' } }
login completed
[0mPOST /login_register/nosql [32m200 [0m103.590 ms - 410[0m
encrypted phone number a4YhnIh2OFsokuZNsDJhuw==
encrypted country code ee+yuOXCLtUQ0mvDOiDtrA==
country code 
phone number phone_number
identityId us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55
get_open_id _phoneNumber phone_number
get_open_id IdentityIdundefined
{ IdentityId: 'us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6NzIxZTUwMTUtODJkYy00ZGRkLTliNzgtOTg3MDg3ZGQxYTU1IiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTpwaG9uZV9udW1iZXIiXSwiaXNzIjoiaHR0cHM6Ly9jb2duaXRvLWlkZW50aXR5LmFtYXpvbmF3cy5jb20iLCJleHAiOjE1MDIzNTU4MjgsImlhdCI6MTUwMjM1MjIyOH0.G2FyeMMtqr8BTsej5-BFobVl4S2q9uRbY3WPWNP1kxU1iJTVr8rcfb3J-qbP9799QEmCTWVrzFYP2WtrkfVl9UPDtYTzo5RYjx59yNI0dmFqyrKIePwGKeEdocudskwAr3b_1M9isu7XQCFzc9sBdZTsoW2nXD3hJ5-QqsUDH_wtHpuGXZ2L0PTBCkBmjYpxL0PGZWNHiMqDPudfloqrrsNHDdGsCsxWl_TSEi0hGIVQ8l2cKlN8T5hR2fXoUcNH5AURRGbRjR91X2GowZUIwnWdstkUGKxcAbtoy6cExlKC8DaWwc783LzlzgcAqXRpqrASUzf9e9d-dw5Gc2cPmw' }
[0mGET /get_token/a4YhnIh2OFsokuZNsDJhuw==/ee+yuOXCLtUQ0mvDOiDtrA==/us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55 [32m200 [0m91.292 ms - 907[0m
login matched
[0mPOST /authorize [32m200 [0m25.071 ms - 164[0m
[0mGET / [32m200 [0m1.139 ms - 11[0m
[0mGET / [32m200 [0m1.357 ms - 11[0m
[0mGET / [32m200 [0m0.532 ms - 11[0m
[0mGET / [32m200 [0m0.926 ms - 11[0m
[0mGET / [32m200 [0m0.530 ms - 11[0m
[0mGET / [32m200 [0m0.876 ms - 11[0m
register_endpoint_v2 E0D4C32B-985C-4E70-81E4-2DC219E5BC6C ed91f6a4e30bf50712770e5527cc22577fcb9d4ef9881bf1e38de9a97e0300fe vincent7 IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m3.892 ms - 20[0m
{ Count: 0, Items: [], ScannedCount: 0 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
[0mGET / [32m200 [0m1.165 ms - 11[0m
[0mGET / [32m200 [0m2.267 ms - 11[0m
register_endpoint_v2 E0D4C32B-985C-4E70-81E4-2DC219E5BC6C ed91f6a4e30bf50712770e5527cc22577fcb9d4ef9881bf1e38de9a97e0300fe vincent7 IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m9.810 ms - 20[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
[0mGET / [32m200 [0m0.551 ms - 11[0m
[0mGET / [32m200 [0m0.847 ms - 11[0m
[0mGET / [32m200 [0m0.987 ms - 11[0m
[0mGET / [32m200 [0m1.641 ms - 11[0m
[0mGET / [32m200 [0m0.605 ms - 11[0m
[0mGET / [32m200 [0m0.685 ms - 11[0m
[0mGET / [32m200 [0m0.694 ms - 11[0m
[0mGET / [32m200 [0m1.006 ms - 11[0m
io enter middleware
before decrypt 1KTVrMYy/Ecrba5M8HkfSg==
after decrypt vincent9
Player ID isvincent9
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598c13dd-41e075041bab93a7705870c5","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"c3ZsY29zaWtuY2xtYmtueA=="},"time":"Thu Aug 10 2017 08:05:49 GMT+0000 (UTC)","address":"::ffff:172.31.3.250","xdomain":true,"secure":false,"issued":1502352349213,"url":"/socket.io/?transport=websocket&pass=1KTVrMYy%2FEcrba5M8HkfSg%3D%3D&playerId=vincent9","query":{"transport":"websocket","pass":"1KTVrMYy/Ecrba5M8HkfSg==","playerId":"vincent9"}}
player id vincent9
hmsent register {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":3,"awesome_chips":"2152","onlineStatus":"2"}
[ { id: { S: 'vincent9' }, awesome_chips: { N: '2152' } } ]
hmsent awesomeChips {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2152","onlineStatus":"2"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "hellowin",
    "ant2",
    "a6",
    "ant3",
    "vincent5",
    "testonly",
    "ant8",
    "vincent31",
    "an4",
    "vincent28",
    "wilson",
    "vincent32",
    "ant7",
    "68666666",
    "ant9",
    "conniechen",
    "eddy",
    "ant5",
    "vincent2",
    "vincent8",
    "awesome",
    "samsung",
    "eric",
    "ant1",
    "vincent7",
    "123123123",
    "v7",
    "vincent63472",
    "vincent",
    "andrewwan",
    "ck",
    "ivan",
    "a58330",
    "a7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2152","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"7","awesome_chips":"95330","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"andrew-chevk\",\"andrew\",\"ant7\",\"123123123\",\"conniechen\",\"ck\",\"cara\",\"ant8\",\"descendentofsun\",\"ivan-nokia6\",\"eddy\",\"ant5\",\"vincent\",\"vincent6\",\"vincent7\",\"vincent63472\",\"elvis\",\"vincent8\",\"samsung\",\"ivan\",\"testonly\",\"ivanlgv10\",\"vincent9\",\"ivannew\",\"awesome\",\"howareyou\",\"ivanlgpro2\",\"andrew-test\",\"vincent31\",\"ant2\",\"a3\",\"vincent5\",\"ivanipad\",\"ant4\",\"hellowin\",\"vincent28\",\"vincent32\",\"ant1\",\"ant9\",\"an4\",\"vincent2\",\"ant3\",\"a6\",\"68666666\",\"wilson\"]","login_times":"6","awesome_chips":"99539","onlineStatus":"2"}
hgetallandrewwan
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
action_packet {
  "packet_id" : "7FCCF470-C7DB-4A85-8DE5-35DBE9D6215D-2658-00000FF109996C96",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "450cecd4-6916-4d61-b324-d2cf9508201b",
    "sender_id" : "vincent9",
    "message_id" : "e8056148-2129-4a81-9167-484549dc8560",
    "chat_id" : "andrewwan:vincent9",
    "recipient_id" : "andrewwan"
  }
}
Send message channel:vincent9:game msg:{"cmd":2009,"custom":2,"msg":"vincent7"}
[0mGET / [32m200 [0m1.499 ms - 11[0m
[0mGET / [32m200 [0m0.399 ms - 11[0m
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,hellowin,ant2,a6,ant3,vincent5,testonly,vincent31,an4,vincent28,wilson,vincent32,ant7,68666666,ant9,conniechen,eddy,ant5,vincent2,vincent8,awesome,samsung,eric,ant1,vincent7,123123123,v7,vincent63472,vincent,andrewwan,ck,ivan"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95330\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99539\"}]"}
Send message channel:vincent9:game msg:{"cmd":2001,"custom":2,"msg":"vincent7"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"95330\"}]"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
game {"header":"game","cmd":1002,"custom":1,"msg":"vincent9,vincent7"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1002
Custom Use: 1
Message: vincent9,vincent7
========================================================================
==========================friends accept invite=========================
========================================================================
update player: vincent9 status: 1
vincent9 send to player 2 successful vincent7 2002
send return to the player 1,send successful 1002
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"1\",\"chips\":\"2152\"}]"}
Send message channel:vincent9:game msg:{"cmd":1002,"custom":200,"msg":"successful"}
Send message channel:vincent9:game msg:{"cmd":2011,"custom":2,"msg":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "hellowin",
    "ant2",
    "a6",
    "ant3",
    "vincent5",
    "testonly",
    "ant8",
    "vincent31",
    "an4",
    "vincent28",
    "wilson",
    "vincent32",
    "ant7",
    "68666666",
    "ant9",
    "conniechen",
    "eddy",
    "ant5",
    "vincent2",
    "vincent8",
    "awesome",
    "samsung",
    "eric",
    "ant1",
    "vincent7",
    "123123123",
    "v7",
    "vincent63472",
    "vincent",
    "andrewwan",
    "ck",
    "ivan",
    "a58330",
    "a7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2152","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"7","awesome_chips":"95330","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"andrew-chevk\",\"andrew\",\"ant7\",\"123123123\",\"conniechen\",\"ck\",\"cara\",\"ant8\",\"descendentofsun\",\"ivan-nokia6\",\"eddy\",\"ant5\",\"vincent\",\"vincent6\",\"vincent7\",\"vincent63472\",\"elvis\",\"vincent8\",\"samsung\",\"ivan\",\"testonly\",\"ivanlgv10\",\"vincent9\",\"ivannew\",\"awesome\",\"howareyou\",\"ivanlgpro2\",\"andrew-test\",\"vincent31\",\"ant2\",\"a3\",\"vincent5\",\"ivanipad\",\"ant4\",\"hellowin\",\"vincent28\",\"vincent32\",\"ant1\",\"ant9\",\"an4\",\"vincent2\",\"ant3\",\"a6\",\"68666666\",\"wilson\"]","login_times":"6","awesome_chips":"99539","onlineStatus":"2"}
hgetallandrewwan
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,andrewwan,vincent7,a6,ant3,vincent5,testonly,vincent31,an4,vincent28,wilson,vincent32,ant7,68666666,ant9,conniechen,eddy,ant5,vincent2,vincent8,awesome,samsung,eric,ant1,ant2,123123123,v7,vincent63472,vincent,hellowin,ck,ivan"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99539\"},{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95330\"}]"}
Send message channel:vincent9:game msg:{"cmd":2003,"custom":200,"msg":"vincent7"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95330\"}]"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"2152\"}]"}
game {"header":"game","cmd":1003,"custom":1,"msg":"vincent9,vincent7"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1003
Custom Use: 1
Message: vincent9,vincent7
========================================================================
==========================start game====================================
========================================================================
friend player id vincent7
friend chips 95320
my chips 2142
send to player 2 successful vincent7 2003
send return to the player 1,send successful 1003
findGamePair find success vincent7:vincent9 {"p1PlayerId":"vincent7","p2PlayerId":"vincent9","pairId":"vincent7:vincent9"}
add game pair failed vincent7:vincent9
Send message channel:vincent9:game msg:{"cmd":1003,"custom":200,"msg":"successful"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,andrewwan,vincent7,a6,ant3,vincent5,testonly,vincent31,an4,vincent28,wilson,vincent32,ant7,68666666,ant9,conniechen,eddy,ant5,vincent2,vincent8,awesome,samsung,eric,ant1,ant2,123123123,v7,vincent63472,vincent,hellowin,ck,ivan"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99539\"},{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95320\"}]"}
Send message channel:vincent9:game msg:{"cmd":2004,"custom":200,"msg":"2.000000:2.000000"}
[0mGET / [32m200 [0m0.586 ms - 11[0m
[0mGET / [32m200 [0m1.214 ms - 11[0m
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent9,vincent7|1.000000:2.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent9,vincent7|1.000000:2.000000
============================next player===========================
send to player vincent7 successful
send return to the vincent9,send successful
Send message channel:vincent9:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
Send message channel:vincent9:game msg:{"cmd":2004,"custom":200,"msg":"2.000000:1.000000"}
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent9,vincent7|1.000000:1.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent9,vincent7|1.000000:1.000000
============================next player===========================
send to player vincent7 successful
send return to the vincent9,send successful
Send message channel:vincent9:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
Send message channel:vincent9:game msg:{"cmd":2004,"custom":200,"msg":"2.000000:3.000000"}
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent9,vincent7|1.000000:0.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent9,vincent7|1.000000:0.000000
============================next player===========================
send to player vincent7 successful
send return to the vincent9,send successful
Send message channel:vincent9:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:game msg:{"cmd":2004,"custom":200,"msg":"2.000000:0.000000"}
game {"header":"game","cmd":1005,"custom":2,"msg":"vincent9,vincent7"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1005
Custom Use: 2
Message: vincent9,vincent7
========================================================================
==================================game end==============================
========================================================================
client vincent9 vs vincent7 [object Object]
findGamePair find success vincent7:vincent9 {"p1PlayerId":"vincent7","p2PlayerId":"vincent9","pairId":"vincent7:vincent9","p1Result":"1"}
========================================================================
============================win or lose player==========================
========================================================================
competition is{"p1PlayerId":"vincent7","p2PlayerId":"vincent9","pairId":"vincent7:vincent9","p1Result":"1","p2Result":2}
game result is find, now check the data
result is [object Object]
validation is finish, all data is correct!
two====vincent7 cal chips 100====
two====vincent9 cal chips -100====
------_add_awesome_chips_transaction-----
awesome_id:vincent7
chips_transform:100
create_at:2017-08-10T08:06:16.180Z
current_awesome_chips:null
------_add_awesome_chips_transaction-----
awesome_id:vincent9
chips_transform:-100
create_at:2017-08-10T08:06:16.180Z
current_awesome_chips:null
update player: vincent9 status: 2
update player: vincent7 status: 2
Send message channel:vincent9:game msg:{"cmd":2005,"custom":2,"msg":"vincent9"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"2142\"}]"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95320\"}]"}
==========
[ { id: { S: 'vincent9' }, awesome_chips: { N: '2142' } } ]
current_awesome_chips2142
-----update_awesome_chips------
awesome_id:vincent9
current_awesome_chips:2142
chips_transform:-100
==========
[ { id: { S: 'vincent7' }, awesome_chips: { N: '95320' } } ]
current_awesome_chips95320
-----update_awesome_chips------
awesome_id:vincent7
current_awesome_chips:95320
chips_transform:100
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '95420',
  message: 'awesome chips have been updated' }
set chips vincent7 chips 95420
update player: vincent7 status: 2
add_awesome_chips_transaction -1 
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '95420',
  message: 'awesome chips have been updated' }
{ status: 'success',
  awesome_id: 'vincent9',
  awesome_chips: '2042',
  message: 'awesome chips have been updated' }
set chips vincent9 chips 2042
update player: vincent9 status: 2
add_awesome_chips_transaction -1 
{ status: 'success',
  awesome_id: 'vincent9',
  awesome_chips: '2042',
  message: 'awesome chips have been updated' }
hmsent awesomeChips {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"7","awesome_chips":"95420","onlineStatus":"2"}
hmsent awesomeChips {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2042","onlineStatus":"2"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95320\"}]"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"2142\"}]"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
========================================================================
========================getChipsAndSendToFriends========================
========================================================================
getChipsAndSendToFriends vincent7
========================================================================
========================getChipsAndSendToFriends========================
========================================================================
getChipsAndSendToFriends vincent9
[ { id: { S: 'vincent7' }, awesome_chips: { N: '95420' } } ]
vincent7 get awesome chips 95420
[ { id: { S: 'vincent9' }, awesome_chips: { N: '2042' } } ]
vincent9 get awesome chips 2042
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,andrewwan,vincent7,a6,ant3,vincent5,testonly,vincent31,an4,vincent28,wilson,vincent32,ant7,68666666,ant9,conniechen,eddy,ant5,vincent2,vincent8,awesome,samsung,eric,ant1,ant2,123123123,v7,vincent63472,vincent,hellowin,ck,ivan"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99539\"},{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95420\"}]"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "hellowin",
    "ant2",
    "a6",
    "ant3",
    "vincent5",
    "testonly",
    "ant8",
    "vincent31",
    "an4",
    "vincent28",
    "wilson",
    "vincent32",
    "ant7",
    "68666666",
    "ant9",
    "conniechen",
    "eddy",
    "ant5",
    "vincent2",
    "vincent8",
    "awesome",
    "samsung",
    "eric",
    "ant1",
    "vincent7",
    "123123123",
    "v7",
    "vincent63472",
    "vincent",
    "andrewwan",
    "ck",
    "ivan",
    "a58330",
    "a7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2042","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"7","awesome_chips":"95420","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"andrew-chevk\",\"andrew\",\"ant7\",\"123123123\",\"conniechen\",\"ck\",\"cara\",\"ant8\",\"descendentofsun\",\"ivan-nokia6\",\"eddy\",\"ant5\",\"vincent\",\"vincent6\",\"vincent7\",\"vincent63472\",\"elvis\",\"vincent8\",\"samsung\",\"ivan\",\"testonly\",\"ivanlgv10\",\"vincent9\",\"ivannew\",\"awesome\",\"howareyou\",\"ivanlgpro2\",\"andrew-test\",\"vincent31\",\"ant2\",\"a3\",\"vincent5\",\"ivanipad\",\"ant4\",\"hellowin\",\"vincent28\",\"vincent32\",\"ant1\",\"ant9\",\"an4\",\"vincent2\",\"ant3\",\"a6\",\"68666666\",\"wilson\"]","login_times":"6","awesome_chips":"99539","onlineStatus":"2"}
hgetallandrewwan
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
[0mGET / [32m200 [0m0.555 ms - 11[0m
[0mGET / [32m200 [0m0.665 ms - 11[0m
Send message channel:vincent9:game msg:{"cmd":2008,"custom":2,"msg":"vincent7"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,andrewwan,vincent7,a6,ant3,vincent5,testonly,vincent31,an4,vincent28,wilson,vincent32,ant7,68666666,ant9,conniechen,eddy,ant5,vincent2,vincent8,awesome,samsung,eric,ant1,ant2,123123123,v7,vincent63472,vincent,hellowin,ck,ivan"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99539\"},{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95420\"}]"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
disconnect vincent9
disconnect count playerID vincent9:{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":2,"awesome_chips":"2042","onlineStatus":"2"}
[0mGET / [32m200 [0m0.425 ms - 11[0m
[0mGET / [32m200 [0m0.270 ms - 11[0m
[0mGET / [32m200 [0m0.907 ms - 11[0m
[0mGET / [32m200 [0m1.953 ms - 11[0m
[0mGET / [32m200 [0m0.534 ms - 11[0m
[0mGET / [32m200 [0m0.908 ms - 11[0m
encrypted phone number a4YhnIh2OFsokuZNsDJhuw==
encrypted country code ee+yuOXCLtUQ0mvDOiDtrA==
country code 
phone number phone_number
identityId us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55
get_open_id _phoneNumber phone_number
get_open_id IdentityIdundefined
{ IdentityId: 'us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6NzIxZTUwMTUtODJkYy00ZGRkLTliNzgtOTg3MDg3ZGQxYTU1IiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTpwaG9uZV9udW1iZXIiXSwiaXNzIjoiaHR0cHM6Ly9jb2duaXRvLWlkZW50aXR5LmFtYXpvbmF3cy5jb20iLCJleHAiOjE1MDIzNTYwMzYsImlhdCI6MTUwMjM1MjQzNn0.O8-Qmc34SBK70r2dbP9Rvg9eYYjadSQlxbru6oBrMit8lcXNO79UECQjY64N7D9feyZzNWxilF2PvNI5TFxTnGb9VfaZFXn9pP4WJEZvBWEaRuk2J_3CGNbjr159ExnHSSZzXz2Qe7cZxpeJ8sbDFlje8FdFgDZbOWF923VSsO_TJ64xVaH1452Lm6W6E5mzqLZyTTXg4Yv6F9kmVEkKpBqOvCVBvR-wr1ZcV341XmVkCR4jJi0EJSa8psv-S1nm88UTlWbvqXyJ3D2H2oa08LJvk6OxQ9uclPSOHuLKp9AxP8hrsbaRve8RZof9GY25PTGYM8FXUtoDzepQu8HAKQ' }
[0mGET /get_token/a4YhnIh2OFsokuZNsDJhuw==/ee+yuOXCLtUQ0mvDOiDtrA==/us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55 [32m200 [0m108.293 ms - 907[0m
[0mGET / [32m200 [0m0.578 ms - 11[0m
[0mGET / [32m200 [0m0.875 ms - 11[0m
register_endpoint_v2 3C2F2DB4-9831-47B3-A7B7-C7E7E4CD3F0D 3bca1b629e98db2378148cfb4e5c420c0f9a12b6ed2bd2aa284c9b4a8f674698 ivan IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m5.709 ms - 20[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
[0mGET / [32m200 [0m0.673 ms - 11[0m
[0mGET / [32m200 [0m0.951 ms - 11[0m
io enter middleware
before decrypt 1KTVrMYy/Ecrba5M8HkfSg==
after decrypt vincent9
Player ID isvincent9
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598c1456-699bb8c1515221f3657eb8a6","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"Z2pyeWhmaGVld25va3VkbQ=="},"time":"Thu Aug 10 2017 08:07:50 GMT+0000 (UTC)","address":"::ffff:172.31.3.250","xdomain":true,"secure":false,"issued":1502352470562,"url":"/socket.io/?transport=websocket&pass=1KTVrMYy%2FEcrba5M8HkfSg%3D%3D&playerId=vincent9","query":{"transport":"websocket","pass":"1KTVrMYy/Ecrba5M8HkfSg==","playerId":"vincent9"}}
player id vincent9
hmsent register {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":3,"awesome_chips":"2042","onlineStatus":"2"}
[ { id: { S: 'vincent9' }, awesome_chips: { N: '2042' } } ]
hmsent awesomeChips {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2042","onlineStatus":"2"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "hellowin",
    "ant2",
    "a6",
    "ant3",
    "vincent5",
    "testonly",
    "ant8",
    "vincent31",
    "an4",
    "vincent28",
    "wilson",
    "vincent32",
    "ant7",
    "68666666",
    "ant9",
    "conniechen",
    "eddy",
    "ant5",
    "vincent2",
    "vincent8",
    "awesome",
    "samsung",
    "eric",
    "ant1",
    "vincent7",
    "123123123",
    "v7",
    "vincent63472",
    "vincent",
    "andrewwan",
    "ck",
    "ivan",
    "a58330",
    "a7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2042","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"7","awesome_chips":"95420","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"andrew-chevk\",\"andrew\",\"ant7\",\"123123123\",\"conniechen\",\"ck\",\"cara\",\"ant8\",\"descendentofsun\",\"ivan-nokia6\",\"eddy\",\"ant5\",\"vincent\",\"vincent6\",\"vincent7\",\"vincent63472\",\"elvis\",\"vincent8\",\"samsung\",\"ivan\",\"testonly\",\"ivanlgv10\",\"vincent9\",\"ivannew\",\"awesome\",\"howareyou\",\"ivanlgpro2\",\"andrew-test\",\"vincent31\",\"ant2\",\"a3\",\"vincent5\",\"ivanipad\",\"ant4\",\"hellowin\",\"vincent28\",\"vincent32\",\"ant1\",\"ant9\",\"an4\",\"vincent2\",\"ant3\",\"a6\",\"68666666\",\"wilson\"]","login_times":"6","awesome_chips":"99539","onlineStatus":"2"}
hgetallandrewwan
hgetall{"login_times":"1","awesome_chips":"74757","onlineStatus":"2","awesome_id":"ivan","friendIds":"[\"vincent2\",\"vincent4\",\"(null)\",\"hellowin\",\"a3\",\"a4\",\"ant1\",\"ant8\",\"rick\",\"kris\",\"a1\",\"agneslwy\",\"wilson2\",\"yestin\",\"may\",\"lily\",\"vincent32\",\"testonly\",\"an2\",\"elvis\",\"ant7\",\"ant5\",\"ivannew\",\"elvisyeung\",\"stacy\",\"vincent8\",\"yestinyeung\",\"eddy\",\"ivanipad\",\"vincent9\",\"awesome\",\"ivanlgpro2\",\"andrew\",\"ivan-nokia6\",\"andrew-test\",\"andrew-chevk\",\"ivanlgv10\",\"conniechen\",\"descendentofsun\",\"cara\",\"vincent6\",\"samsung\",\"stacyyeung\",\"123123123\",\"vincent7\",\"ck\",\"vincent\",\"ivan\",\"andrewwan\",\"eric\"]"}
hgetallivan
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
Send message channel:vincent9:friend_online msg:{"friendId":"ivan"}
Send message channel:vincent9:friend_offline msg:{"friendId":"ivan"}
[0mGET / [32m200 [0m0.507 ms - 11[0m
[0mGET / [32m200 [0m0.228 ms - 11[0m
Send message channel:vincent9:game msg:{"cmd":2001,"custom":2,"msg":"vincent7"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"95420\"}]"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95420\"}]"}
Send message channel:vincent9:game msg:{"cmd":2080,"custom":2,"msg":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
game {
  "cmd" : 1090,
  "custom" : 200,
  "msg" : "vincent9,vincent7"
}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1090
Custom Use: 200
Message: vincent9,vincent7
========================================================================
==========================reject invite=================================
========================================================================
update player: vincent9 status: 2
vincent9 send to player 2 successful vincent7 2090
send return to the player 1,send successful 1090
update player: vincent7 status: 2
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"2042\"}]"}
Send message channel:vincent9:game msg:{"cmd":1090,"custom":200,"msg":"successful"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95420\"}]"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "hellowin",
    "ant2",
    "a6",
    "ant3",
    "vincent5",
    "testonly",
    "ant8",
    "vincent31",
    "an4",
    "vincent28",
    "wilson",
    "vincent32",
    "ant7",
    "68666666",
    "ant9",
    "conniechen",
    "eddy",
    "ant5",
    "vincent2",
    "vincent8",
    "awesome",
    "samsung",
    "eric",
    "ant1",
    "vincent7",
    "123123123",
    "v7",
    "vincent63472",
    "vincent",
    "andrewwan",
    "ck",
    "ivan",
    "a58330",
    "a7",
    "descendentofsun"
  ]
}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"hellowin\",\"ant2\",\"a6\",\"ant3\",\"vincent5\",\"testonly\",\"ant8\",\"vincent31\",\"an4\",\"vincent28\",\"wilson\",\"vincent32\",\"ant7\",\"68666666\",\"ant9\",\"conniechen\",\"eddy\",\"ant5\",\"vincent2\",\"vincent8\",\"awesome\",\"samsung\",\"eric\",\"ant1\",\"vincent7\",\"123123123\",\"v7\",\"vincent63472\",\"vincent\",\"andrewwan\",\"ck\",\"ivan\",\"a58330\",\"a7\",\"descendentofsun\"]","login_times":"3","awesome_chips":"2042","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"7","awesome_chips":"95420","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"andrew-chevk\",\"andrew\",\"ant7\",\"123123123\",\"conniechen\",\"ck\",\"cara\",\"ant8\",\"descendentofsun\",\"ivan-nokia6\",\"eddy\",\"ant5\",\"vincent\",\"vincent6\",\"vincent7\",\"vincent63472\",\"elvis\",\"vincent8\",\"samsung\",\"ivan\",\"testonly\",\"ivanlgv10\",\"vincent9\",\"ivannew\",\"awesome\",\"howareyou\",\"ivanlgpro2\",\"andrew-test\",\"vincent31\",\"ant2\",\"a3\",\"vincent5\",\"ivanipad\",\"ant4\",\"hellowin\",\"vincent28\",\"vincent32\",\"ant1\",\"ant9\",\"an4\",\"vincent2\",\"ant3\",\"a6\",\"68666666\",\"wilson\"]","login_times":"6","awesome_chips":"99539","onlineStatus":"2"}
hgetallandrewwan
[0mGET / [32m200 [0m0.523 ms - 11[0m
[0mGET / [32m200 [0m0.911 ms - 11[0m
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
disconnect vincent9
register_endpoint_v2 E0D4C32B-985C-4E70-81E4-2DC219E5BC6C ed91f6a4e30bf50712770e5527cc22577fcb9d4ef9881bf1e38de9a97e0300fe vincent7 IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m3.339 ms - 20[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
[0mGET / [32m200 [0m1.623 ms - 11[0m
[0mGET / [32m200 [0m3.201 ms - 11[0m
[0mGET / [32m200 [0m1.981 ms - 11[0m
[0mGET / [32m200 [0m0.304 ms - 11[0m
[0mGET / [32m200 [0m0.885 ms - 11[0m
[0mGET / [32m200 [0m1.170 ms - 11[0m
[0mGET / [32m200 [0m0.600 ms - 11[0m
[0mGET / [32m200 [0m1.461 ms - 11[0m
[0mGET / [32m200 [0m4.214 ms - 11[0m
[0mGET / [32m200 [0m4.605 ms - 11[0m
[0mGET / [32m200 [0m3.537 ms - 11[0m
[0mGET / [32m200 [0m5.244 ms - 11[0m
[0mGET / [32m200 [0m2.001 ms - 11[0m
[0mGET / [32m200 [0m0.517 ms - 11[0m
[0mGET / [32m200 [0m0.515 ms - 11[0m
[0mGET / [32m200 [0m0.899 ms - 11[0m
[0mGET / [32m200 [0m0.390 ms - 11[0m
[0mGET / [32m200 [0m0.457 ms - 11[0m
[0mGET / [32m200 [0m1.849 ms - 11[0m
[0mGET / [32m200 [0m2.144 ms - 11[0m
add_awesome_chips_transaction
------_add_awesome_chips_transaction-----
awesome_id:vincent7
chips_transform:-500
create_at:2017-08-10T08:10:52.861Z
current_awesome_chips:95420
-----update_awesome_chips------
awesome_id:vincent7
current_awesome_chips:95420
chips_transform:-500
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '94920',
  message: 'awesome chips have been updated' }
set chips vincent7 chips 94920
update player: vincent7 status: 2
[0mPOST /api/v1/add_awesome_chips_transaction/nosql [32m200 [0m49.578 ms - 112[0m
hmsent awesomeChips {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"1","awesome_chips":"94920","onlineStatus":"2"}
[0mGET / [32m200 [0m0.597 ms - 11[0m
[0mGET / [32m200 [0m1.015 ms - 11[0m
add_awesome_chips_transaction
------_add_awesome_chips_transaction-----
awesome_id:vincent7
chips_transform:-500
create_at:2017-08-10T08:11:03.597Z
current_awesome_chips:94920
-----update_awesome_chips------
awesome_id:vincent7
current_awesome_chips:94920
chips_transform:-500
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '94420',
  message: 'awesome chips have been updated' }
set chips vincent7 chips 94420
update player: vincent7 status: 2
[0mPOST /api/v1/add_awesome_chips_transaction/nosql [32m200 [0m47.906 ms - 112[0m
hmsent awesomeChips {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"ant1\",\"ant2\",\"vincent5\",\"testonly\",\"eddy\",\"ant5\",\"vincent8\",\"vincent9\",\"vincent2\",\"vincent6\",\"vincent\",\"awesome\",\"123123123\",\"ivan\",\"andrewwan\"]","login_times":"1","awesome_chips":"94420","onlineStatus":"2"}
[0mGET / [32m200 [0m1.040 ms - 11[0m
[0mGET / [32m200 [0m0.959 ms - 11[0m
[0mGET / [32m200 [0m2.259 ms - 11[0m
[0mGET / [32m200 [0m2.294 ms - 11[0m
[0mGET / [32m200 [0m0.356 ms - 11[0m
[0mGET / [32m200 [0m0.325 ms - 11[0m
[0mGET / [32m200 [0m1.543 ms - 11[0m
[0mGET / [32m200 [0m1.895 ms - 11[0m
[0mGET / [32m200 [0m0.482 ms - 11[0m
[0mGET / [32m200 [0m0.870 ms - 11[0m
[0mGET / [32m200 [0m0.405 ms - 11[0m
[0mGET / [32m200 [0m0.281 ms - 11[0m
[0mGET / [32m200 [0m0.859 ms - 11[0m
[0mGET / [32m200 [0m0.228 ms - 11[0m
[0mGET / [32m200 [0m0.468 ms - 11[0m
[0mGET / [32m200 [0m0.278 ms - 11[0m
[0mGET / [32m200 [0m0.662 ms - 11[0m
[0mGET / [32m200 [0m0.897 ms - 11[0m
[0mGET / [32m200 [0m0.385 ms - 11[0m
[0mGET / [32m200 [0m0.238 ms - 11[0m
[0mGET / [32m200 [0m1.020 ms - 11[0m
[0mGET / [32m200 [0m1.399 ms - 11[0m
[0mGET / [32m200 [0m1.841 ms - 11[0m
[0mGET / [32m200 [0m2.548 ms - 11[0m
[0mGET / [32m200 [0m0.646 ms - 11[0m
[0mGET / [32m200 [0m0.901 ms - 11[0m
[0mGET / [32m200 [0m1.719 ms - 11[0m
[0mGET / [32m200 [0m0.377 ms - 11[0m
encrypted phone number a4YhnIh2OFsokuZNsDJhuw==
encrypted country code ee+yuOXCLtUQ0mvDOiDtrA==
country code 
phone number phone_number
identityId us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55
get_open_id _phoneNumber phone_number
get_open_id IdentityIdundefined
{ IdentityId: 'us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55',
  Token: 'eyJraWQiOiJ1cy1lYXN0LTExIiwidHlwIjoiSldTIiwiYWxnIjoiUlM1MTIifQ.eyJzdWIiOiJ1cy1lYXN0LTE6NzIxZTUwMTUtODJkYy00ZGRkLTliNzgtOTg3MDg3ZGQxYTU1IiwiYXVkIjoidXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYSIsImFtciI6WyJhdXRoZW50aWNhdGVkIiwibG9naW4udjNyZWUuYXdlc29tZSIsImxvZ2luLnYzcmVlLmF3ZXNvbWU6dXMtZWFzdC0xOjU1NTJhNTRiLWE1MTktNDRkMi05N2UzLWZlYjNkNDVjOWFmYTpwaG9uZV9udW1iZXIiXSwiaXNzIjoiaHR0cHM6Ly9jb2duaXRvLWlkZW50aXR5LmFtYXpvbmF3cy5jb20iLCJleHAiOjE1MDIzNTY0NjcsImlhdCI6MTUwMjM1Mjg2N30.GiW0bMrCwt_Y_2GU_QKFl-nTVa6GyuBDELyOtF97xrEovp6VdlQ8caSsS96KneARHVrNWGrNYOkWheR0Wgk0nE_8dgrTDcdbFD87KGWUXBsa1Qas2pfR2EO2XI32yrdmvDeRV6BzLwst0qfUWXDHVkjWPO1x5A4BEr0v23dZq3K_Jz_te_Sw_0eWwuV0lvWLJo6lgFu2Y3TYKdGV40dyOND7cyM4SstL7U-ettWWy8YPAP-QFHwCp2QmYei_DQlZ59Ucdj2A6odK9PoixJ90_LyUAOZFuA-x8vsCAu-6Dvroo0ew6qE0ofpE4fn63Yy6uB5layfR3LPHuR985MD5CQ' }
[0mGET /get_token/a4YhnIh2OFsokuZNsDJhuw==/ee+yuOXCLtUQ0mvDOiDtrA==/us-east-1:721e5015-82dc-4ddd-9b78-987087dd1a55 [32m200 [0m97.578 ms - 907[0m
io enter middleware
before decrypt k1jjEWMywtcCCIt0MO+i6w==
after decrypt lingtse
Player ID islingtse
On Connection:{"headers":{"x-forwarded-for":"124.244.83.51","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598c15e7-5c96262c36fe359f4f2ac059","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"amZ3d3l1ZGV3ZG92bW54Yw=="},"time":"Thu Aug 10 2017 08:14:31 GMT+0000 (UTC)","address":"::ffff:172.31.24.250","xdomain":true,"secure":false,"issued":1502352871295,"url":"/socket.io/?transport=websocket&pass=k1jjEWMywtcCCIt0MO%2Bi6w%3D%3D&playerId=lingtse","query":{"transport":"websocket","pass":"k1jjEWMywtcCCIt0MO+i6w==","playerId":"lingtse"}}
player id lingtse
hmsent register {"awesome_id":"lingtse","onlineStatus":2,"awesome_chips":0,"login_times":1}
[ { id: { S: 'lingtse' }, awesome_chips: { N: '1000' } } ]
hmsent awesomeChips {"awesome_id":"lingtse","onlineStatus":"2","awesome_chips":"1000","login_times":"1"}
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "roy",
    "sharonli",
    "maclo"
  ]
}
action_packet {
  "packet_id" : "A4DD8D3C-CC33-4E8F-BEFC-B9D1BD04D8E9-9618-000006DE8E08180C",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "cbb89835-ac97-4660-8e79-85bf0c92e653",
    "sender_id" : "lingtse",
    "message_id" : "9A283D2C-1E7B-4756-9265-C25106814104-13353-000014BEBB8CF96A",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "eric"
  }
}
action_packet {
  "packet_id" : "514BAC67-3D19-4BF6-A823-1295EB42C3D1-9618-000006DE8E087444",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "569c7dbd-5ada-459e-9a87-e7acd684c8a0",
    "sender_id" : "lingtse",
    "message_id" : "342469C7-BADF-4B3D-9C00-A1725D016D96-36726-00005573AF08DD33",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "roy"
  }
}
action_packet {
  "packet_id" : "F557B2C0-D9FA-4B64-8453-D99C4622DCF6-9618-000006DE8E08A100",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "2a8ce79f-8975-410f-8294-0c195f31560f",
    "sender_id" : "lingtse",
    "message_id" : "743382DD-44BE-4914-83D2-2E60C64A70B2-36726-00005573F4E543A6",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "roy"
  }
}
action_packet {
  "packet_id" : "5B7652E4-8C52-49F7-85E3-CCBB611536EA-9618-000006DE8E09E662",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "6c65cab1-dd6f-45ce-8df7-9e30859a4922",
    "sender_id" : "lingtse",
    "message_id" : "DF3617B0-EE4A-461A-9F6E-89899B008232-13353-000014BF29FCA6E6",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "eric"
  }
}
action_packet {
  "packet_id" : "247EC9E0-E266-4E9A-91E4-0B524DA25628-9618-000006DE8E0A2928",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "6ca3fd5c-5ad0-4f67-9971-e719c9e8c467",
    "sender_id" : "lingtse",
    "message_id" : "FFC8470F-23A8-4EB7-B2CC-6D3A15B3F230-36726-0000557401C5F46C",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "roy"
  }
}
action_packet {
  "packet_id" : "0FB633D6-D2CE-4FD0-A329-7343435AE1A3-9618-000006DE8E0A6326",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "73d6324d-ee86-4164-8d9b-2992bdee83cd",
    "sender_id" : "lingtse",
    "message_id" : "8B0B48FB-0AB8-44F4-A4DC-464FCE9F2B16-13353-000014BF5E2FE9BF",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "eric"
  }
}
action_packet {
  "packet_id" : "BDEEED77-8AAC-4D67-A308-635A8892A9FA-9618-000006DE8E0A8DA7",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "a76f666e-640e-4b88-8066-d9621edeb4f4",
    "sender_id" : "lingtse",
    "message_id" : "604C778F-813F-438D-B965-22F1A4A31E53-36726-0000557449F2FC66",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "roy"
  }
}
action_packet {
  "packet_id" : "6DDE75D2-66A6-435E-847A-E865CC250EE2-9618-000006DE8E0AB25F",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "5da45b26-7e35-447d-a62d-a5dc031d600f",
    "sender_id" : "lingtse",
    "message_id" : "BF8D8EFD-EE08-4EC2-86FD-7398396F80BD-36726-000055749CF7662B",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "roy"
  }
}
action_packet {
  "packet_id" : "D88DCDE6-49F6-4EDD-9A92-2CB143A7008B-9618-000006DE8E0B03FC",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "ee97e9c0-b7a8-45c3-8378-18fd27971e86",
    "sender_id" : "lingtse",
    "message_id" : "2B94BA7A-4CF2-4953-BB3D-CE2038A8869F-2011-0000021A2A7ABA00",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "sharonli"
  }
}
action_packet {
  "packet_id" : "AB2E9B67-B5A6-4D99-A43B-34446CB37079-9618-000006DE8E0D89F9",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "9ef7f0c4-5ef9-4a47-bcb3-da7a47d04d79",
    "sender_id" : "lingtse",
    "message_id" : "210B9A0D-DB93-44C1-9FB5-FA107B151A59-13418-000014C001E36469",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "eric"
  }
}
action_packet {
  "packet_id" : "FE32A5B7-6E27-4889-8398-92D7C68DB158-9618-000006DE8E0EA91C",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "5849b11f-0af2-4d35-b90f-4e992af13f42",
    "sender_id" : "lingtse",
    "message_id" : "A86A0AA5-471C-42F4-82ED-2C09EA0CFE14-36726-00005574EB0DD5A2",
    "chat_id" : "2017-08-09T15:11:25.621Z_sharonli",
    "recipient_id" : "roy"
  }
}
register_endpoint_v2 6D6B3615-B5CA-4931-B6F5-663AD046ECA2 fa01930dfc22f4e4676ed20395ba35099e3f355a624ad030dfe9f2580294ee92 lingtse IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m3.144 ms - 20[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
request_packet {
  "packet_id" : "05C96758-7F60-4C5C-B05D-513822B3CB3B-9618-000006DE99682516",
  "request_name" : "Notify_A_Lot_Of_Messages_Read",
  "request_content" : {
    "chatId" : "lingtse:roy",
    "messageId" : "5C4182CE-8173-4B36-85B3-7FB0E500BBD5-36697-00005566FD169B46",
    "postBy" : "roy",
    "modifyAt" : "2017-08-09T15:08:35.648Z",
    "messageText" : "F45F0369-881B-4FC0-9EE9-07A6E85B1894-36697-00005566FD13E413.jpg",
    "createAt" : "2017-08-09T15:08:35.648Z",
    "video_type" : ".mov",
    "messageType" : "PHOTO",
    "messageStatus" : "READ",
    "dynamoId" : "8b7a8bdb-2da9-4a9b-95f8-52028b241496"
  }
}
8b7a8bdb-2da9-4a9b-95f8-52028b241496
ok
[0mGET / [32m200 [0m0.574 ms - 11[0m
[0mGET / [32m200 [0m2.225 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m0.387 ms - 11[0m
[0mGET / [32m200 [0m0.711 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
request_packet {
  "packet_id" : "78C7CBFC-4F52-42A7-8586-6705CBE4F80F-9618-000006DEB77355EA",
  "request_name" : "Notify_A_Lot_Of_Messages_Read",
  "request_content" : {
    "chatId" : "2017-08-09T15:11:25.621Z_sharonli",
    "messageId" : "A86A0AA5-471C-42F4-82ED-2C09EA0CFE14-36726-00005574EB0DD5A2",
    "postBy" : "roy",
    "modifyAt" : "2017-08-09T15:51:03.075Z",
    "messageText" : "Goodnight ",
    "createAt" : "2017-08-09T15:51:03.075Z",
    "video_type" : ".mov",
    "messageType" : "TEXT",
    "messageStatus" : "READ",
    "dynamoId" : "5849b11f-0af2-4d35-b90f-4e992af13f42"
  }
}
5849b11f-0af2-4d35-b90f-4e992af13f42
ok
[0mGET / [32m200 [0m0.540 ms - 11[0m
[0mGET / [32m200 [0m0.866 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m7.867 ms - 11[0m
[0mGET / [32m200 [0m2.307 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m0.372 ms - 11[0m
[0mGET / [32m200 [0m0.247 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m0.360 ms - 11[0m
[0mGET / [32m200 [0m1.240 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m0.394 ms - 11[0m
[0mGET / [32m200 [0m0.209 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m0.349 ms - 11[0m
[0mGET / [32m200 [0m5.676 ms - 11[0m
notify_online {
  "friend_ids" : [
    "rick",
    "awesome",
    "eric",
    "sharonli",
    "maclo",
    "roy"
  ]
}
[0mGET / [32m200 [0m0.458 ms - 11[0m
[0mGET / [32m200 [0m2.347 ms - 11[0m
[0mGET / [32m200 [0m0.874 ms - 11[0m
[0mGET / [32m200 [0m10.471 ms - 11[0m
[0mGET / [32m200 [0m0.349 ms - 11[0m
[0mGET / [32m200 [0m0.510 ms - 11[0m
[0mGET / [32m200 [0m0.356 ms - 11[0m
[0mGET / [32m200 [0m0.481 ms - 11[0m
disconnect lingtse
disconnect lingtse redis
friend ids rick,awesome,eric,sharonli,maclo,roy
send disconnect to rick
send disconnect to awesome
send disconnect to eric
send disconnect to sharonli
send disconnect to maclo
send disconnect to roy
[0mGET / [32m200 [0m0.428 ms - 11[0m
[0mGET / [32m200 [0m0.241 ms - 11[0m
[0mGET / [32m200 [0m0.377 ms - 11[0m
[0mGET / [32m200 [0m0.277 ms - 11[0m
[0mGET / [32m200 [0m0.630 ms - 11[0m
[0mGET / [32m200 [0m1.851 ms - 11[0m
[0mGET / [32m200 [0m0.402 ms - 11[0m
[0mGET / [32m200 [0m0.240 ms - 11[0m
[0mGET / [32m200 [0m0.449 ms - 11[0m
[0mGET / [32m200 [0m1.241 ms - 11[0m
[0mGET / [32m200 [0m0.357 ms - 11[0m
[0mGET / [32m200 [0m1.364 ms - 11[0m
register_endpoint_v2 6D6B3615-B5CA-4931-B6F5-663AD046ECA2 fa01930dfc22f4e4676ed20395ba35099e3f355a624ad030dfe9f2580294ee92 lingtse IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m3.750 ms - 20[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
register_endpoint_v2 6D6B3615-B5CA-4931-B6F5-663AD046ECA2 fa01930dfc22f4e4676ed20395ba35099e3f355a624ad030dfe9f2580294ee92 lingtse IOS
*** register_endpoint_v2 success ***
{ status: 'success' }
[0mPOST /api/v1/register_endpoint_v2/nosql [32m200 [0m2.438 ms - 20[0m
{ Count: 1,
  Items: 
   [ { awesome_id: [Object],
       endpointArn: [Object],
       device_token: [Object] } ],
  ScannedCount: 1 }
*** addEndPoint success ***
*** insertEndPointToDynamoDB ***
*** insertEndPointToDynamoDB success ***
[0mGET / [32m200 [0m0.442 ms - 11[0m
[0mGET / [32m200 [0m0.250 ms - 11[0m
[0mGET / [32m200 [0m0.442 ms - 11[0m
[0mGET / [32m200 [0m0.626 ms - 11[0m
[0mGET / [32m200 [0m0.453 ms - 11[0m
[0mGET / [32m200 [0m1.153 ms - 11[0m
[0mGET / [32m200 [0m0.471 ms - 11[0m
[0mGET / [32m200 [0m0.836 ms - 11[0m
[0mGET / [32m200 [0m0.372 ms - 11[0m
[0mGET / [32m200 [0m0.205 ms - 11[0m
[0mGET / [32m200 [0m0.479 ms - 11[0m
[0mGET / [32m200 [0m0.830 ms - 11[0m
[0mGET / [32m200 [0m0.571 ms - 11[0m
[0mGET / [32m200 [0m0.786 ms - 11[0m
[0mGET / [32m200 [0m1.708 ms - 11[0m
[0mGET / [32m200 [0m0.413 ms - 11[0m
[0mGET / [32m200 [0m0.358 ms - 11[0m
[0mGET / [32m200 [0m0.236 ms - 11[0m
[0mGET / [32m200 [0m0.428 ms - 11[0m
[0mGET / [32m200 [0m0.221 ms - 11[0m
[0mGET / [32m200 [0m3.194 ms - 11[0m
[0mGET / [32m200 [0m6.432 ms - 11[0m
[0mGET / [32m200 [0m0.473 ms - 11[0m
[0mGET / [32m200 [0m0.202 ms - 11[0m
[0mGET / [32m200 [0m0.468 ms - 11[0m
[0mGET / [32m200 [0m1.112 ms - 11[0m
[0mGET / [32m200 [0m0.467 ms - 11[0m
[0mGET / [32m200 [0m0.576 ms - 11[0m
[0mGET / [32m200 [0m0.377 ms - 11[0m
[0mGET / [32m200 [0m0.460 ms - 11[0m
[0mGET / [32m200 [0m0.370 ms - 11[0m
[0mGET / [32m200 [0m0.271 ms - 11[0m
[0mGET / [32m200 [0m0.573 ms - 11[0m
[0mGET / [32m200 [0m0.834 ms - 11[0m
[0mGET / [32m200 [0m0.465 ms - 11[0m
[0mGET / [32m200 [0m0.778 ms - 11[0m
[0mGET / [32m200 [0m2.352 ms - 11[0m
[0mGET / [32m200 [0m3.272 ms - 11[0m
[0mGET / [32m200 [0m0.466 ms - 11[0m
[0mGET / [32m200 [0m0.781 ms - 11[0m
[0mGET / [32m200 [0m0.488 ms - 11[0m
[0mGET / [32m200 [0m0.279 ms - 11[0m
[0mGET / [32m200 [0m0.479 ms - 11[0m
[0mGET / [32m200 [0m0.600 ms - 11[0m
[0mGET / [32m200 [0m0.462 ms - 11[0m
[0mGET / [32m200 [0m0.238 ms - 11[0m
[0mGET / [32m200 [0m0.446 ms - 11[0m
[0mGET / [32m200 [0m0.404 ms - 11[0m
[0mGET / [32m200 [0m0.604 ms - 11[0m
[0mGET / [32m200 [0m0.876 ms - 11[0m
[0mGET / [32m200 [0m0.625 ms - 11[0m
[0mGET / [32m200 [0m0.852 ms - 11[0m
[0mGET / [32m200 [0m0.661 ms - 11[0m
[0mGET / [32m200 [0m1.188 ms - 11[0m
[0mGET / [32m200 [0m4.276 ms - 11[0m
[0mGET / [32m200 [0m3.203 ms - 11[0m
[0mGET / [32m200 [0m4.654 ms - 11[0m
[0mGET / [32m200 [0m0.496 ms - 11[0m
error: Forever detected script was killed by signal: SIGKILL
