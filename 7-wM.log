ok
Config
2017-08-09T10:14:50.323Z
Cognito
the cognitoidentity is [object Object]
SNS
setting tcp
setting sns
PostAPI
PostAPI_Chat
PostAPI_Wall
PostAPI_Pet
PostAPI_Chips
PostAPI_Login
PostAPI_Shop
PostAPI_Debug
Game init
======================
apiPort listening 2492
tcpPort listening 3000
======================
Server listening at port 3000
io enter middleware
before decrypt YZpL08OeP6bretiFpYcj+g==
after decrypt descendentofsun
Player ID isdescendentofsun
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae09b-664a728537112f7b6635ba1d","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"Y25qbnliaWlxc2xkb2NhcQ=="},"time":"Wed Aug 09 2017 10:14:51 GMT+0000 (UTC)","address":"::ffff:172.31.3.250","xdomain":true,"secure":false,"issued":1502273691990,"url":"/socket.io/?transport=websocket&pass=YZpL08OeP6bretiFpYcj%2Bg%3D%3D&playerId=descendentofsun","query":{"transport":"websocket","pass":"YZpL08OeP6bretiFpYcj+g==","playerId":"descendentofsun"}}
player id descendentofsun
hmsent register {"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":3,"awesome_chips":"1052","onlineStatus":"2"}
[ { id: { S: 'descendentofsun' }, awesome_chips: { N: '1052' } } ]
hmsent awesomeChips {"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"1","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"1","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
io enter middleware
before decrypt LyCnrCX0iHgRGm2b+5eHKg==
after decrypt andrewwan
Player ID isandrewwan
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae0a2-0834b38a42d824127dc91749","upgrade":"websocket","connection":"upgrade","cookie":"AWSALB=","sec-websocket-key":"0XEzJsPbyRsChujVuWyiQg==","sec-websocket-version":"13","accept-encoding":"gzip","user-agent":"okhttp/3.8.1"},"time":"Wed Aug 09 2017 10:14:58 GMT+0000 (UTC)","address":"::ffff:172.31.24.250","xdomain":false,"secure":false,"issued":1502273698021,"url":"/socket.io/?EIO=3&playerId=andrewwan&pass=LyCnrCX0iHgRGm2b%2B5eHKg%3D%3D&transport=websocket","query":{"EIO":"3","playerId":"andrewwan","pass":"LyCnrCX0iHgRGm2b+5eHKg==","transport":"websocket"}}
player id andrewwan
hmsent register {"awesome_id":"andrewwan","onlineStatus":2,"awesome_chips":0,"login_times":1}
[ { id: { S: 'andrewwan' }, awesome_chips: { N: '99779' } } ]
hmsent awesomeChips {"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
notify_online {"friend_ids" : ["andrewwan","ant7","123123123","andrew-chevk","ant5","andrew","ivannew","awesome","ck","andrew-test","descendentofsun","howareyou","vincent63472","ivanlgpro2","vincent9","vincent8","vincent6","ant8","ivan","conniechen","eddy","elvis","ivan-nokia6","samsung","testonly","ivanlgv10","vincent","vincent7","cara","vincent31","ant2","a3","ivanipad","vincent5","68666666","ant1","a6","ant9","ant3","vincent32","hellowin","vincent2","vincent28","wilson","an4","ant4"]}
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "baa0120c-79d2-4222-95a4-d84e73e6ba75", "messageId" : "CA68B92E-B8A2-489B-BEE3-DF0BD49287A9-313-000000B50F63A6E8"},"packet_id":"1f4b6a65-cebc-4477-a96c-2f0718e307c2"}
baa0120c-79d2-4222-95a4-d84e73e6ba75
hgetall{"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:andrewwan:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"baa0120c-79d2-4222-95a4-d84e73e6ba75","message_id":"CA68B92E-B8A2-489B-BEE3-DF0BD49287A9-313-000000B50F63A6E8","chat_id":"andrewwan:descendentofsun"}}
Send message channel:andrewwan:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
ok
notify_online {"friend_ids" : ["andrewwan","ant7","123123123","andrew-chevk","ant5","andrew","ivannew","awesome","ck","andrew-test","descendentofsun","howareyou","vincent63472","ivanlgpro2","vincent9","vincent8","vincent6","ant8","ivan","conniechen","eddy","elvis","ivan-nokia6","samsung","testonly","ivanlgv10","vincent","vincent7","cara","vincent31","ant2","a3","ivanipad","vincent5","68666666","ant1","a6","ant9","ant3","vincent32","hellowin","vincent2","vincent28","wilson","an4","ant4"]}
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:andrewwan:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m12.784 ms - 11[0m
[0mGET / [32m200 [0m8.248 ms - 11[0m
action_packet {
  "packet_id" : "34C1FCCD-43C1-4644-866E-397FAB34CDC0-314-000000B6605970C7",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC",
    "message_type" : "TEXT",
    "message" : "Hi",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC',
  message_type: 'TEXT',
  message: 'Hi',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '2bb993a9-4504-4016-a330-806a25e185ca',
  create_at: '2017-08-09T10:15:03.748Z' }
Send message channel:andrewwan:m msg:{"message":"Hi","send_by":"descendentofsun","message_type":"TEXT","message_id":"25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:03.748Z","dynamo_id":"2bb993a9-4504-4016-a330-806a25e185ca","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Hi","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
966
Total Unread: 966
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'e0131ceb-3b35-5b99-8d41-4eefd9d219cf' },
  MessageId: 'ecd56cfa-cbdf-5b5d-be43-3efe2938d90b' }
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"2bb993a9-4504-4016-a330-806a25e185ca","message_id":"25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"62db866f-6249-4eaa-8392-17a661020a95"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"2bb993a9-4504-4016-a330-806a25e185ca","message_id":"25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
Send message channel:andrewwan:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:andrewwan:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "2bb993a9-4504-4016-a330-806a25e185ca", "messageId" : "25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC"},"packet_id":"720e5aae-f869-4e48-85c4-527a594e4907"}
2bb993a9-4504-4016-a330-806a25e185ca
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"2bb993a9-4504-4016-a330-806a25e185ca","message_id":"25F69E0E-B3F1-4072-9C21-5621D97E9981-313-000000B6051BC0AC","chat_id":"andrewwan:descendentofsun"}}
ok
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "cd1f0523-5aec-41fe-b155-ee00c85048a1", "messageId" : "AC99B5A8-4A58-491F-A5E9-90D13CDC91B6-313-000000B453D9D37A"},"packet_id":"f0f857d2-7590-44b2-9e09-d84a4b607d37"}
cd1f0523-5aec-41fe-b155-ee00c85048a1
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"cd1f0523-5aec-41fe-b155-ee00c85048a1","message_id":"AC99B5A8-4A58-491F-A5E9-90D13CDC91B6-313-000000B453D9D37A","chat_id":"andrewwan:descendentofsun"}}
ok
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "66333135-ba70-4790-8a5a-a7b9251ec116", "messageId" : "1F565CAB-4291-48F6-BAD8-ABD18A0FD935-313-000000B43E7FDDC4"},"packet_id":"c6013807-5aab-409e-8b0f-7878bd57423c"}
66333135-ba70-4790-8a5a-a7b9251ec116
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"66333135-ba70-4790-8a5a-a7b9251ec116","message_id":"1F565CAB-4291-48F6-BAD8-ABD18A0FD935-313-000000B43E7FDDC4","chat_id":"andrewwan:descendentofsun"}}
ok
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "8b5c86f0-a08a-428f-9595-43d337dc973b", "messageId" : "0FB27BF0-1ACB-49D6-AA51-76F838846984-313-000000B43B48B476"},"packet_id":"e1a1e198-d52c-4c1c-898c-3eb0dc8f1ea0"}
8b5c86f0-a08a-428f-9595-43d337dc973b
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"8b5c86f0-a08a-428f-9595-43d337dc973b","message_id":"0FB27BF0-1ACB-49D6-AA51-76F838846984-313-000000B43B48B476","chat_id":"andrewwan:descendentofsun"}}
ok
notify_online {"friend_ids" : ["andrewwan","ant7","123123123","andrew-chevk","ant5","andrew","ivannew","awesome","ck","andrew-test","descendentofsun","howareyou","vincent63472","ivanlgpro2","vincent9","vincent8","vincent6","ant8","ivan","conniechen","eddy","elvis","ivan-nokia6","samsung","testonly","ivanlgv10","vincent","vincent7","cara","vincent31","ant2","a3","ivanipad","vincent5","68666666","ant1","a6","ant9","ant3","vincent32","hellowin","vincent2","vincent28","wilson","an4","ant4"]}
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:andrewwan:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m4.932 ms - 11[0m
[0mGET / [32m200 [0m1.708 ms - 11[0m
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "12342496-D5F1-4BA5-9FAB-A64E6D969DB2-314-000000B6754BD9E8",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "BE81C671-D1C3-4DD7-ACEA-BA17DEDF0780-314-000000B6754411BB",
    "message_type" : "TEXT",
    "message" : "Gixocy",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'BE81C671-D1C3-4DD7-ACEA-BA17DEDF0780-314-000000B6754411BB',
  message_type: 'TEXT',
  message: 'Gixocy',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'b1407598-aee7-4c9f-8b32-e86987f6cf8e',
  create_at: '2017-08-09T10:15:18.600Z' }
Send message channel:andrewwan:m msg:{"message":"Gixocy","send_by":"descendentofsun","message_type":"TEXT","message_id":"BE81C671-D1C3-4DD7-ACEA-BA17DEDF0780-314-000000B6754411BB","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:18.600Z","dynamo_id":"b1407598-aee7-4c9f-8b32-e86987f6cf8e","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Gixocy","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
967
Total Unread: 967
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '71f05b3e-636d-5fe7-9074-093a819beeac' },
  MessageId: 'bb4bc89f-c07f-5a93-8486-9a9b22893bd8' }
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"b1407598-aee7-4c9f-8b32-e86987f6cf8e","message_id":"BE81C671-D1C3-4DD7-ACEA-BA17DEDF0780-314-000000B6754411BB","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"49dff746-287a-4b8f-841b-6ec3e238d669"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"b1407598-aee7-4c9f-8b32-e86987f6cf8e","message_id":"BE81C671-D1C3-4DD7-ACEA-BA17DEDF0780-314-000000B6754411BB","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "EBA467D5-B870-4D5C-98A5-55EB9C32459F-314-000000B6775A194C",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "FF3504DF-9B70-41D1-ABB9-6D9C9FB4EFDE-314-000000B677522CC8",
    "message_type" : "TEXT",
    "message" : "Yox",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'FF3504DF-9B70-41D1-ABB9-6D9C9FB4EFDE-314-000000B677522CC8',
  message_type: 'TEXT',
  message: 'Yox',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '6eb71659-d888-405c-82c0-1b23775f81f9',
  create_at: '2017-08-09T10:15:20.034Z' }
Send message channel:andrewwan:m msg:{"message":"Yox","send_by":"descendentofsun","message_type":"TEXT","message_id":"FF3504DF-9B70-41D1-ABB9-6D9C9FB4EFDE-314-000000B677522CC8","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:20.034Z","dynamo_id":"6eb71659-d888-405c-82c0-1b23775f81f9","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Yox","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
968
Total Unread: 968
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'a1ed3fd7-57c9-5462-85a7-6dd3b531ceb0' },
  MessageId: 'ccd3dda3-fdf6-5e2e-a11c-8fa71f0ee4fc' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"6eb71659-d888-405c-82c0-1b23775f81f9","message_id":"FF3504DF-9B70-41D1-ABB9-6D9C9FB4EFDE-314-000000B677522CC8","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"f363ffc2-76fc-49d3-bdd4-f8a02ec5e568"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"6eb71659-d888-405c-82c0-1b23775f81f9","message_id":"FF3504DF-9B70-41D1-ABB9-6D9C9FB4EFDE-314-000000B677522CC8","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
Send message channel:andrewwan:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "1E86EE3F-55FD-452C-AD89-33637F9350A9-314-000000B678D14FE1",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "C929AF59-8194-48AF-A4C0-F991C0957A30-314-000000B678C5AC35",
    "message_type" : "TEXT",
    "message" : "Tx ",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'C929AF59-8194-48AF-A4C0-F991C0957A30-314-000000B678C5AC35',
  message_type: 'TEXT',
  message: 'Tx ',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'd0634fef-fdd7-4cf3-886c-09f65488b2d3',
  create_at: '2017-08-09T10:15:21.057Z' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:m msg:{"message":"Tx ","send_by":"descendentofsun","message_type":"TEXT","message_id":"C929AF59-8194-48AF-A4C0-F991C0957A30-314-000000B678C5AC35","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:21.057Z","dynamo_id":"d0634fef-fdd7-4cf3-886c-09f65488b2d3","video_type":".mov"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Tx ","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
969
Total Unread: 969
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '9d1abcfd-e7c9-54ef-9c93-eef905301d42' },
  MessageId: '45ea10bc-a854-5314-b1fe-42b84aadeab9' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"d0634fef-fdd7-4cf3-886c-09f65488b2d3","message_id":"C929AF59-8194-48AF-A4C0-F991C0957A30-314-000000B678C5AC35","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"bf5cf42f-7f1a-45ad-b1fe-31754aae6171"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"d0634fef-fdd7-4cf3-886c-09f65488b2d3","message_id":"C929AF59-8194-48AF-A4C0-F991C0957A30-314-000000B678C5AC35","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "439D575C-E29A-4C5D-BD1F-D634300D2F40-314-000000B67A78FBD5",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "2B275D59-F673-41A9-AAAE-4DEB45827C6A-314-000000B67A71D4F6",
    "message_type" : "TEXT",
    "message" : "of yx ",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '2B275D59-F673-41A9-AAAE-4DEB45827C6A-314-000000B67A71D4F6',
  message_type: 'TEXT',
  message: 'of yx ',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '975e7f52-93a1-4633-a76d-518f074f1adb',
  create_at: '2017-08-09T10:15:22.184Z' }
Send message channel:andrewwan:m msg:{"message":"of yx ","send_by":"descendentofsun","message_type":"TEXT","message_id":"2B275D59-F673-41A9-AAAE-4DEB45827C6A-314-000000B67A71D4F6","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:22.184Z","dynamo_id":"975e7f52-93a1-4633-a76d-518f074f1adb","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : of yx ","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
970
Total Unread: 970
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'e0466da3-2908-585b-94ab-3fa7cbf2316a' },
  MessageId: 'd9ac3ecc-761f-54a2-b010-6cc894e5dd93' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"975e7f52-93a1-4633-a76d-518f074f1adb","message_id":"2B275D59-F673-41A9-AAAE-4DEB45827C6A-314-000000B67A71D4F6","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"284f67c2-a25d-43d8-96e6-c816c230c017"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"975e7f52-93a1-4633-a76d-518f074f1adb","message_id":"2B275D59-F673-41A9-AAAE-4DEB45827C6A-314-000000B67A71D4F6","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
action_packet {
  "packet_id" : "98DA5122-76A5-48F3-983F-D47347691679-314-000000B67CC29279",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "3882EA0E-933D-4BE1-9859-674B3C00DB8D-314-000000B67CBB56B0",
    "message_type" : "TEXT",
    "message" : "Igx",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '3882EA0E-933D-4BE1-9859-674B3C00DB8D-314-000000B67CBB56B0',
  message_type: 'TEXT',
  message: 'Igx',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '61cbdd1a-93a2-432e-92aa-17e1206b855f',
  create_at: '2017-08-09T10:15:23.610Z' }
Send message channel:andrewwan:m msg:{"message":"Igx","send_by":"descendentofsun","message_type":"TEXT","message_id":"3882EA0E-933D-4BE1-9859-674B3C00DB8D-314-000000B67CBB56B0","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:23.610Z","dynamo_id":"61cbdd1a-93a2-432e-92aa-17e1206b855f","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Igx","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
971
Total Unread: 971
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '9d030b78-aa9d-5e6e-82d4-597c4866081a' },
  MessageId: 'd7b798cd-833e-5b76-bc70-cac961c5cd02' }
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"61cbdd1a-93a2-432e-92aa-17e1206b855f","message_id":"3882EA0E-933D-4BE1-9859-674B3C00DB8D-314-000000B67CBB56B0","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"11ff6472-27a7-4a4a-9c1e-51188bcede33"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"61cbdd1a-93a2-432e-92aa-17e1206b855f","message_id":"3882EA0E-933D-4BE1-9859-674B3C00DB8D-314-000000B67CBB56B0","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:andrewwan:friend_online msg:{"friendId":"descendentofsun"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "F74C1381-B1F6-48A1-A760-C185A804F933-314-000000B680FB157A",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "CFD8C6CB-2F5A-42D8-B321-70150F629A7A-314-000000B680F43E41",
    "message_type" : "TEXT",
    "message" : "Gixohc",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'CFD8C6CB-2F5A-42D8-B321-70150F629A7A-314-000000B680F43E41',
  message_type: 'TEXT',
  message: 'Gixohc',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'ee8f618a-5e10-47d7-b882-2825cb5f2ffa',
  create_at: '2017-08-09T10:15:26.691Z' }
Send message channel:andrewwan:m msg:{"message":"Gixohc","send_by":"descendentofsun","message_type":"TEXT","message_id":"CFD8C6CB-2F5A-42D8-B321-70150F629A7A-314-000000B680F43E41","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:26.691Z","dynamo_id":"ee8f618a-5e10-47d7-b882-2825cb5f2ffa","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Gixohc","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
972
Total Unread: 972
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'aadd6cd3-ba92-52ad-a740-3ed7586c5bb8' },
  MessageId: 'e361d8d8-86be-53d1-8fff-8adc6440fac4' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "D5191ABE-A59E-4634-BF34-54FC8F5AA3E3-314-000000B6826900CF",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "CF9A3B69-A0D2-4AC5-A2BF-EDC74A37F292-314-000000B68262933C",
    "message_type" : "TEXT",
    "message" : "Yoc",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'CF9A3B69-A0D2-4AC5-A2BF-EDC74A37F292-314-000000B68262933C',
  message_type: 'TEXT',
  message: 'Yoc',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '892e6a75-8f40-4124-8a18-6c95fb46a5eb',
  create_at: '2017-08-09T10:15:27.817Z' }
Send message channel:andrewwan:m msg:{"message":"Yoc","send_by":"descendentofsun","message_type":"TEXT","message_id":"CF9A3B69-A0D2-4AC5-A2BF-EDC74A37F292-314-000000B68262933C","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:15:27.817Z","dynamo_id":"892e6a75-8f40-4124-8a18-6c95fb46a5eb","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Yoc","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
973
Total Unread: 973
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'b72942b4-eb04-5209-87e5-10b009fb7c71' },
  MessageId: '3ff5697e-dc84-5a2d-bd5c-3b7a3e7b0455' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
disconnect andrewwan
disconnect andrewwan redis
friend ids andrewwan,ant7,123123123,andrew-chevk,ant5,andrew,ivannew,awesome,ck,andrew-test,descendentofsun,howareyou,vincent63472,ivanlgpro2,vincent9,vincent8,vincent6,ant8,ivan,conniechen,eddy,elvis,ivan-nokia6,samsung,testonly,ivanlgv10,vincent,vincent7,cara,vincent31,ant2,a3,ivanipad,vincent5,68666666,ant1,a6,ant9,ant3,vincent32,hellowin,vincent2,vincent28,wilson,an4,ant4
send disconnect to andrewwan
send disconnect to ant7
send disconnect to 123123123
send disconnect to andrew-chevk
send disconnect to ant5
send disconnect to andrew
send disconnect to ivannew
send disconnect to awesome
send disconnect to ck
send disconnect to andrew-test
send disconnect to descendentofsun
send disconnect to howareyou
send disconnect to vincent63472
send disconnect to ivanlgpro2
send disconnect to vincent9
send disconnect to vincent8
send disconnect to vincent6
send disconnect to ant8
send disconnect to ivan
send disconnect to conniechen
send disconnect to eddy
send disconnect to elvis
send disconnect to ivan-nokia6
send disconnect to samsung
send disconnect to testonly
send disconnect to ivanlgv10
send disconnect to vincent
send disconnect to vincent7
send disconnect to cara
send disconnect to vincent31
send disconnect to ant2
send disconnect to a3
send disconnect to ivanipad
send disconnect to vincent5
send disconnect to 68666666
send disconnect to ant1
send disconnect to a6
send disconnect to ant9
send disconnect to ant3
send disconnect to vincent32
send disconnect to hellowin
send disconnect to vincent2
send disconnect to vincent28
send disconnect to wilson
send disconnect to an4
send disconnect to ant4
Send message channel:descendentofsun:friend_offline msg:{"friendId":"andrewwan"}
action_packet {
  "packet_id" : "D0582972-8D3F-4DCE-BE51-49A992AB3D09-314-000000B683B52EE8",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "01B7EC7C-0BFA-4CD3-8D05-3842C8195D12-314-000000B683AC7F20",
    "message_type" : "TEXT",
    "message" : "Yc",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '01B7EC7C-0BFA-4CD3-8D05-3842C8195D12-314-000000B683AC7F20',
  message_type: 'TEXT',
  message: 'Yc',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'a04071a8-aa95-4294-b4ad-35a92dbbf071',
  create_at: '2017-08-09T10:15:28.739Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Yc","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
974
Total Unread: 974
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '01d1252a-3b92-5313-9a00-772ed892b7c6' },
  MessageId: '0305ae26-78a0-5618-ba3c-fc229ba072cd' }
[0mGET / [32m200 [0m0.557 ms - 11[0m
[0mGET / [32m200 [0m0.886 ms - 11[0m
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "8F53CCC9-7528-41DF-98EC-B51E9C5E7BE3-314-000000B6924D4E30",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "76E078EB-1B36-4041-A0D6-F6F0E8CA531F-314-000000B69245DC8D",
    "message_type" : "TEXT",
    "message" : "Fh",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '76E078EB-1B36-4041-A0D6-F6F0E8CA531F-314-000000B69245DC8D',
  message_type: 'TEXT',
  message: 'Fh',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'c1d92ced-093d-45e5-aee7-b3453321afc7',
  create_at: '2017-08-09T10:15:38.772Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Fh","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
975
Total Unread: 975
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '26ce5d4a-1f8d-54b1-b024-0f4efc87eeeb' },
  MessageId: 'bf73d643-7906-519c-a6a9-84479a0cabc6' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"c1d92ced-093d-45e5-aee7-b3453321afc7","message_id":"76E078EB-1B36-4041-A0D6-F6F0E8CA531F-314-000000B69245DC8D","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "51085149-121A-474A-855D-2B4E10D107F1-314-000000B6981319D8",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "BF46A607-68E9-49C4-A312-BC367626FAAE-314-000000B6980BB6C0",
    "message_type" : "TEXT",
    "message" : "Yfyd",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'BF46A607-68E9-49C4-A312-BC367626FAAE-314-000000B6980BB6C0',
  message_type: 'TEXT',
  message: 'Yfyd',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'fe283e01-afc5-4473-b47c-1ea3e7a5343b',
  create_at: '2017-08-09T10:15:42.705Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Yfyd","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
976
Total Unread: 976
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'ad85bd4e-9618-5624-a066-ef4a75167c3c' },
  MessageId: '868e52e1-a4b1-5c88-9ecd-00e547bfe690' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"fe283e01-afc5-4473-b47c-1ea3e7a5343b","message_id":"BF46A607-68E9-49C4-A312-BC367626FAAE-314-000000B6980BB6C0","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"fe283e01-afc5-4473-b47c-1ea3e7a5343b","message_id":"BF46A607-68E9-49C4-A312-BC367626FAAE-314-000000B6980BB6C0","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"c1d92ced-093d-45e5-aee7-b3453321afc7","message_id":"76E078EB-1B36-4041-A0D6-F6F0E8CA531F-314-000000B69245DC8D","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"a04071a8-aa95-4294-b4ad-35a92dbbf071","message_id":"01B7EC7C-0BFA-4CD3-8D05-3842C8195D12-314-000000B683AC7F20","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"892e6a75-8f40-4124-8a18-6c95fb46a5eb","message_id":"CF9A3B69-A0D2-4AC5-A2BF-EDC74A37F292-314-000000B68262933C","chat_id":"andrewwan:descendentofsun"}}
[0mGET / [32m200 [0m0.514 ms - 11[0m
[0mGET / [32m200 [0m0.886 ms - 11[0m
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"ee8f618a-5e10-47d7-b882-2825cb5f2ffa","message_id":"CFD8C6CB-2F5A-42D8-B321-70150F629A7A-314-000000B680F43E41","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"61cbdd1a-93a2-432e-92aa-17e1206b855f","message_id":"3882EA0E-933D-4BE1-9859-674B3C00DB8D-314-000000B67CBB56B0","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"975e7f52-93a1-4633-a76d-518f074f1adb","message_id":"2B275D59-F673-41A9-AAAE-4DEB45827C6A-314-000000B67A71D4F6","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"d0634fef-fdd7-4cf3-886c-09f65488b2d3","message_id":"C929AF59-8194-48AF-A4C0-F991C0957A30-314-000000B678C5AC35","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"6eb71659-d888-405c-82c0-1b23775f81f9","message_id":"FF3504DF-9B70-41D1-ABB9-6D9C9FB4EFDE-314-000000B677522CC8","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"b1407598-aee7-4c9f-8b32-e86987f6cf8e","message_id":"BE81C671-D1C3-4DD7-ACEA-BA17DEDF0780-314-000000B6754411BB","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
[0mGET / [32m200 [0m4.866 ms - 11[0m
[0mGET / [32m200 [0m0.492 ms - 11[0m
Send message channel:descendentofsun:friend_offline msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
io enter middleware
before decrypt LyCnrCX0iHgRGm2b+5eHKg==
after decrypt andrewwan
Player ID isandrewwan
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae0e6-0f9b883e4f4ef50e66080b46","upgrade":"websocket","connection":"upgrade","cookie":"AWSALB=","sec-websocket-key":"ArA2BiuNzL9Nh0xM858Vgw==","sec-websocket-version":"13","accept-encoding":"gzip","user-agent":"okhttp/3.8.1"},"time":"Wed Aug 09 2017 10:16:06 GMT+0000 (UTC)","address":"::ffff:172.31.24.250","xdomain":false,"secure":false,"issued":1502273766328,"url":"/socket.io/?EIO=3&playerId=andrewwan&pass=LyCnrCX0iHgRGm2b%2B5eHKg%3D%3D&transport=websocket","query":{"EIO":"3","playerId":"andrewwan","pass":"LyCnrCX0iHgRGm2b+5eHKg==","transport":"websocket"}}
player id andrewwan
hmsent register {"awesome_id":"andrewwan","onlineStatus":2,"awesome_chips":0,"login_times":1}
[ { id: { S: 'andrewwan' }, awesome_chips: { N: '99779' } } ]
hmsent awesomeChips {"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:andrewwan:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
notify_online {"friend_ids" : ["andrewwan","ant7","123123123","andrew-chevk","ant5","andrew","ivannew","awesome","ck","andrew-test","descendentofsun","howareyou","vincent63472","ivanlgpro2","vincent9","vincent8","vincent6","ant8","ivan","conniechen","eddy","elvis","ivan-nokia6","samsung","testonly","ivanlgv10","vincent","vincent7","cara","vincent31","ant2","a3","ivanipad","vincent5","68666666","ant1","a6","ant9","ant3","vincent32","hellowin","vincent2","vincent28","wilson","an4","ant4"]}
hgetall{"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:andrewwan:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
Send message channel:andrewwan:typing msg:{"friendId":"descendentofsun","text":".,x.hideTyping"}
[0mGET / [32m200 [0m0.520 ms - 11[0m
[0mGET / [32m200 [0m0.850 ms - 11[0m
action_packet {
  "packet_id" : "AC117DF9-102E-475C-AEEF-004EBBD63530-314-000000B6CDEB29C5",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514",
    "message_type" : "TEXT",
    "message" : "Gixigx",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514',
  message_type: 'TEXT',
  message: 'Gixigx',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '7c9b5c5b-0905-499b-917b-79b4d7223628',
  create_at: '2017-08-09T10:16:20.343Z' }
Send message channel:andrewwan:m msg:{"message":"Gixigx","send_by":"descendentofsun","message_type":"TEXT","message_id":"C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:16:20.343Z","dynamo_id":"7c9b5c5b-0905-499b-917b-79b4d7223628","video_type":".mov"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Gixigx","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
977
Total Unread: 977
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '475cfb8c-59db-521b-9059-a988baef52d4' },
  MessageId: 'dc7d9a19-1d8e-5f33-827c-c81dfeba3ffc' }
Send message channel:andrewwan:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
action_packet {"action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"7c9b5c5b-0905-499b-917b-79b4d7223628","message_id":"C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514","recipient_id":"descendentofsun","sender_id":"andrewwan"},"action_name":"Notify_Message_Delivered","header":"action_packet","packet_id":"362f9c1e-ed93-4264-b546-0d8322eda091"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"7c9b5c5b-0905-499b-917b-79b4d7223628","message_id":"C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:andrewwan:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "7c9b5c5b-0905-499b-917b-79b4d7223628", "messageId" : "C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514"},"packet_id":"46ae70dd-8a3b-4971-9033-2a198015ae7a"}
7c9b5c5b-0905-499b-917b-79b4d7223628
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"7c9b5c5b-0905-499b-917b-79b4d7223628","message_id":"C20E200C-2DC5-4D66-9BFE-9730CEB3F4EF-314-000000B6CDE22514","chat_id":"andrewwan:descendentofsun"}}
ok
notify_online {"friend_ids" : ["andrewwan","ant7","123123123","andrew-chevk","ant5","andrew","ivannew","awesome","ck","andrew-test","descendentofsun","howareyou","vincent63472","ivanlgpro2","vincent9","vincent8","vincent6","ant8","ivan","conniechen","eddy","elvis","ivan-nokia6","samsung","testonly","ivanlgv10","vincent","vincent7","cara","vincent31","ant2","a3","ivanipad","vincent5","68666666","ant1","a6","ant9","ant3","vincent32","hellowin","vincent2","vincent28","wilson","an4","ant4"]}
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:andrewwan:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
disconnect andrewwan
disconnect andrewwan redis
friend ids andrewwan,ant7,123123123,andrew-chevk,ant5,andrew,ivannew,awesome,ck,andrew-test,descendentofsun,howareyou,vincent63472,ivanlgpro2,vincent9,vincent8,vincent6,ant8,ivan,conniechen,eddy,elvis,ivan-nokia6,samsung,testonly,ivanlgv10,vincent,vincent7,cara,vincent31,ant2,a3,ivanipad,vincent5,68666666,ant1,a6,ant9,ant3,vincent32,hellowin,vincent2,vincent28,wilson,an4,ant4
send disconnect to andrewwan
send disconnect to ant7
send disconnect to 123123123
send disconnect to andrew-chevk
send disconnect to ant5
send disconnect to andrew
send disconnect to ivannew
send disconnect to awesome
send disconnect to ck
send disconnect to andrew-test
send disconnect to descendentofsun
send disconnect to howareyou
send disconnect to vincent63472
send disconnect to ivanlgpro2
send disconnect to vincent9
send disconnect to vincent8
send disconnect to vincent6
send disconnect to ant8
send disconnect to ivan
send disconnect to conniechen
send disconnect to eddy
send disconnect to elvis
send disconnect to ivan-nokia6
send disconnect to samsung
send disconnect to testonly
send disconnect to ivanlgv10
send disconnect to vincent
send disconnect to vincent7
send disconnect to cara
send disconnect to vincent31
send disconnect to ant2
send disconnect to a3
send disconnect to ivanipad
send disconnect to vincent5
send disconnect to 68666666
send disconnect to ant1
send disconnect to a6
send disconnect to ant9
send disconnect to ant3
send disconnect to vincent32
send disconnect to hellowin
send disconnect to vincent2
send disconnect to vincent28
send disconnect to wilson
send disconnect to an4
send disconnect to ant4
Send message channel:descendentofsun:friend_offline msg:{"friendId":"andrewwan"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "B55F4505-1FCC-4F40-9D58-BFB462313E32-314-000000B6DC515D2A",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "3882890B-B02A-4AB1-8E6E-727A0E5D2C0E-314-000000B6DC4A288F",
    "message_type" : "TEXT",
    "message" : "Gxixig",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '3882890B-B02A-4AB1-8E6E-727A0E5D2C0E-314-000000B6DC4A288F',
  message_type: 'TEXT',
  message: 'Gxixig',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'c8be7397-a949-4e47-be18-66d2eea03fb3',
  create_at: '2017-08-09T10:16:30.591Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Gxixig","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
978
Total Unread: 978
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'db9647b5-0867-5261-8aa3-15b1eb59b1ed' },
  MessageId: '4ab44e6a-ae9f-5b53-a26e-1c6e4da138df' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"c8be7397-a949-4e47-be18-66d2eea03fb3","message_id":"3882890B-B02A-4AB1-8E6E-727A0E5D2C0E-314-000000B6DC4A288F","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m0.482 ms - 11[0m
[0mGET / [32m200 [0m0.249 ms - 11[0m
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "E76FBE92-99A5-4517-8DC5-037A5547EA6D-314-000000B6E1BDA9CA",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "98AE7525-CD19-42A9-B82A-D3FA496FDF4D-314-000000B6E1B65A59",
    "message_type" : "TEXT",
    "message" : "Igxgifix",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '98AE7525-CD19-42A9-B82A-D3FA496FDF4D-314-000000B6E1B65A59',
  message_type: 'TEXT',
  message: 'Igxgifix',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'b723f9bf-e720-472f-afc1-c9dc2f2ec9d1',
  create_at: '2017-08-09T10:16:34.275Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Igxgifix","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
979
Total Unread: 979
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '43e42a4f-97c8-5d57-9975-784b748a7d98' },
  MessageId: '63b827db-4123-5f09-82b3-75dfa261cfc6' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"b723f9bf-e720-472f-afc1-c9dc2f2ec9d1","message_id":"98AE7525-CD19-42A9-B82A-D3FA496FDF4D-314-000000B6E1B65A59","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "A2A680F4-D858-445F-8882-C921C73BAA92-314-000000B6E34B01E2",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "11D61CC8-6F3E-4AA5-9ACA-2D1C2AC93A59-314-000000B6E3443C30",
    "message_type" : "TEXT",
    "message" : "Ohch",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '11D61CC8-6F3E-4AA5-9ACA-2D1C2AC93A59-314-000000B6E3443C30',
  message_type: 'TEXT',
  message: 'Ohch',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '5b4fc4a3-a646-4545-bc96-b5dcb2cab581',
  create_at: '2017-08-09T10:16:35.504Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Ohch","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
980
Total Unread: 980
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '300031b5-dc45-56b5-b7af-63b13f06571c' },
  MessageId: 'a7d45dc7-e4e3-5ca5-8656-0fc307a08d0c' }
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"5b4fc4a3-a646-4545-bc96-b5dcb2cab581","message_id":"11D61CC8-6F3E-4AA5-9ACA-2D1C2AC93A59-314-000000B6E3443C30","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
[0mGET / [32m200 [0m1.185 ms - 11[0m
[0mGET / [32m200 [0m0.921 ms - 11[0m
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m0.347 ms - 11[0m
[0mGET / [32m200 [0m0.260 ms - 11[0m
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_offline msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m0.478 ms - 11[0m
[0mGET / [32m200 [0m0.835 ms - 11[0m
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
[0mGET / [32m200 [0m0.557 ms - 11[0m
[0mGET / [32m200 [0m0.881 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"2","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m1.468 ms - 11[0m
[0mGET / [32m200 [0m1.728 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m0.472 ms - 11[0m
[0mGET / [32m200 [0m0.229 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m0.486 ms - 11[0m
[0mGET / [32m200 [0m0.815 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m0.496 ms - 11[0m
[0mGET / [32m200 [0m0.286 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"dynamo_id":"d2ee6b38-2429-4180-bca6-f3551120a183","sender_id":"vincent9","message_id":"C03AA910-64A6-49EA-A7FE-34CAFAFD1439-307-000000B0E70C8B08","chat_id":"2017-04-20T07:48:54.343Z_ivan","recipient_id":"descendentofsun"}}
[0mGET / [32m200 [0m0.553 ms - 11[0m
[0mGET / [32m200 [0m0.933 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m0.919 ms - 11[0m
[0mGET / [32m200 [0m1.244 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m0.480 ms - 11[0m
[0mGET / [32m200 [0m0.832 ms - 11[0m
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"3","awesome_chips":"96210","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"96210\"}]"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"1\",\"chips\":\"1612\"}]"}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"5b4fc4a3-a646-4545-bc96-b5dcb2cab581","message_id":"11D61CC8-6F3E-4AA5-9ACA-2D1C2AC93A59-314-000000B6E3443C30","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"b723f9bf-e720-472f-afc1-c9dc2f2ec9d1","message_id":"98AE7525-CD19-42A9-B82A-D3FA496FDF4D-314-000000B6E1B65A59","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"c8be7397-a949-4e47-be18-66d2eea03fb3","message_id":"3882890B-B02A-4AB1-8E6E-727A0E5D2C0E-314-000000B6DC4A288F","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m0.562 ms - 11[0m
[0mGET / [32m200 [0m0.865 ms - 11[0m
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "CF3F3F25-5BD5-4DAC-997F-CA6BC7CAAFAC-314-000000B7E73EF966",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "F384DDC0-AE7F-4EC4-A5D6-B34A1CC387A9-314-000000B7E7370AE0",
    "message_type" : "TEXT",
    "message" : "Hcvu",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'F384DDC0-AE7F-4EC4-A5D6-B34A1CC387A9-314-000000B7E7370AE0',
  message_type: 'TEXT',
  message: 'Hcvu',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'd7ddd3b9-facc-40ad-8875-d578338831c0',
  create_at: '2017-08-09T10:19:37.162Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Hcvu","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
981
Total Unread: 981
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '071c5a3f-4d29-5d8a-b8df-083baed0a3b8' },
  MessageId: '2919bbe9-7e21-5e35-bbd1-e9ed9dd83007' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"d7ddd3b9-facc-40ad-8875-d578338831c0","message_id":"F384DDC0-AE7F-4EC4-A5D6-B34A1CC387A9-314-000000B7E7370AE0","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "F646CC56-7F9F-4433-B5B3-A01A035B906E-314-000000B7EA7DEE3B",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "F0F79E41-4B53-4DB9-A152-470E0A126A07-314-000000B7EA7656EF",
    "message_type" : "TEXT",
    "message" : "Uvv",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'F0F79E41-4B53-4DB9-A152-470E0A126A07-314-000000B7EA7656EF',
  message_type: 'TEXT',
  message: 'Uvv',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '12b6143c-88ce-40c0-861e-0a264e3cc3f9',
  create_at: '2017-08-09T10:19:39.273Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Uvv","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
982
Total Unread: 982
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '92e556d9-e392-54be-86fa-04dd0069cc06' },
  MessageId: '05f089a1-eeaa-59e6-a429-dba50d51e15e' }
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"4","awesome_chips":"96200","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"12b6143c-88ce-40c0-861e-0a264e3cc3f9","message_id":"F0F79E41-4B53-4DB9-A152-470E0A126A07-314-000000B7EA7656EF","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "76231B36-A0F4-4117-8F5D-6121437E2304-314-000000B7EC1DFEC9",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "478B4EC8-5E01-4004-B795-CD4539FC4901-314-000000B7EC161BE2",
    "message_type" : "TEXT",
    "message" : "U",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '478B4EC8-5E01-4004-B795-CD4539FC4901-314-000000B7EC161BE2',
  message_type: 'TEXT',
  message: 'U',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '8a5b2b1c-dc05-4ff7-8eb4-dea1ebb73db3',
  create_at: '2017-08-09T10:19:40.439Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : U","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
983
Total Unread: 983
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '37c4d87f-437d-59ca-b134-8a7ba081bbbf' },
  MessageId: 'eac18218-92d2-5f3d-8628-d01c712e4d48' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"8a5b2b1c-dc05-4ff7-8eb4-dea1ebb73db3","message_id":"478B4EC8-5E01-4004-B795-CD4539FC4901-314-000000B7EC161BE2","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "A0BD62BB-6D9F-4773-B3BD-0E69E77F0854-314-000000B7EDB07950",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "AC608F76-5552-4C24-9E4F-70C3FD95D55F-314-000000B7EDA8C485",
    "message_type" : "TEXT",
    "message" : "C",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'AC608F76-5552-4C24-9E4F-70C3FD95D55F-314-000000B7EDA8C485',
  message_type: 'TEXT',
  message: 'C',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'a52653e3-dcd3-420b-9f87-a89e9f880d44',
  create_at: '2017-08-09T10:19:41.504Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : C","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
984
Total Unread: 984
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '388a7828-9ce2-5983-a7ba-2a2c7f1f303c' },
  MessageId: 'f49a1671-34cc-5009-a3d6-4475d73159b6' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"a52653e3-dcd3-420b-9f87-a89e9f880d44","message_id":"AC608F76-5552-4C24-9E4F-70C3FD95D55F-314-000000B7EDA8C485","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"a52653e3-dcd3-420b-9f87-a89e9f880d44","message_id":"AC608F76-5552-4C24-9E4F-70C3FD95D55F-314-000000B7EDA8C485","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"8a5b2b1c-dc05-4ff7-8eb4-dea1ebb73db3","message_id":"478B4EC8-5E01-4004-B795-CD4539FC4901-314-000000B7EC161BE2","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"12b6143c-88ce-40c0-861e-0a264e3cc3f9","message_id":"F0F79E41-4B53-4DB9-A152-470E0A126A07-314-000000B7EA7656EF","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"d7ddd3b9-facc-40ad-8875-d578338831c0","message_id":"F384DDC0-AE7F-4EC4-A5D6-B34A1CC387A9-314-000000B7E7370AE0","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:friend_offline msg:{"friendId":"andrewwan"}
[0mGET / [32m200 [0m2.598 ms - 11[0m
[0mGET / [32m200 [0m3.246 ms - 11[0m
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "33A847DD-0F96-4816-8B4F-D2B14BC48B74-314-000000B7F77D6A7F",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "ADFB978F-D7AF-4FD1-A266-81129DA28626-314-000000B7F7760C59",
    "message_type" : "TEXT",
    "message" : "Couvuc",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'ADFB978F-D7AF-4FD1-A266-81129DA28626-314-000000B7F7760C59',
  message_type: 'TEXT',
  message: 'Couvuc',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'eaadefbb-f2f2-49f2-901a-e4ef74e7d946',
  create_at: '2017-08-09T10:19:48.428Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Couvuc","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
985
Total Unread: 985
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'b1a26099-c896-5b0c-9bbe-329d2c927d92' },
  MessageId: 'b02d866d-69b0-5b00-b9fe-d4698db40d9e' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "F36FB188-42FA-4475-9AF8-6CE928EE1551-314-000000B7F9647E21",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "4148CCC0-736F-42AF-B208-912D5C7B278B-314-000000B7F95E2997",
    "message_type" : "TEXT",
    "message" : "Yoc",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '4148CCC0-736F-42AF-B208-912D5C7B278B-314-000000B7F95E2997',
  message_type: 'TEXT',
  message: 'Yoc',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '270cfc42-b67e-4b33-a0f5-83606bd98d71',
  create_at: '2017-08-09T10:19:49.963Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Yoc","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
986
Total Unread: 986
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'f1e4c8c7-e8e0-5f2e-8ec8-9ac30ce6a2b8' },
  MessageId: '5d998751-a7ad-5787-92e0-d55543abea11' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "D5C72C4E-5CD4-4689-8762-2BCD1D6035D4-314-000000B7FC07D989",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "47165D3D-1358-4DA6-9E43-0939A27297A9-314-000000B7FBFED83F",
    "message_type" : "TEXT",
    "message" : "Cy",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '47165D3D-1358-4DA6-9E43-0939A27297A9-314-000000B7FBFED83F',
  message_type: 'TEXT',
  message: 'Cy',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '5998eebd-333f-4bb7-8b75-c05b93f945c9',
  create_at: '2017-08-09T10:19:51.601Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Cy","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
987
Total Unread: 987
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '7b9e282b-62ce-5ed5-a8a2-7a2f86c9f7ed' },
  MessageId: 'd928d353-db8c-56af-a8ac-81573f8b7f97' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "2EA7173E-FD96-498A-A7A7-4CA7FD0EE76E-314-000000B7FD3CF632",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "D3296B8D-C61C-4F9C-9C65-107075E8F16A-314-000000B7FD359B2F",
    "message_type" : "TEXT",
    "message" : "Please ",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'D3296B8D-C61C-4F9C-9C65-107075E8F16A-314-000000B7FD359B2F',
  message_type: 'TEXT',
  message: 'Please ',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'ebec39e4-4c7f-4a47-a2da-6ad0869ec3c4',
  create_at: '2017-08-09T10:19:52.420Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Please ","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
988
Total Unread: 988
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'ec113e1d-057b-5863-9119-6c19e1734e77' },
  MessageId: '16ab2489-e2a0-59f9-ac8f-768d06a8efed' }
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"4","awesome_chips":"96200","onlineStatus":"2"}
hgetallvincent7
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1612\"}]"}
Send message channel:descendentofsun:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96200\"}]"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
action_packet {
  "packet_id" : "A65F69B9-DB5E-4807-978E-010D02FC201A-314-000000B807603C08",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "DC9D76C4-477A-457F-A175-A5C8FBD8D29A-314-000000B807590967",
    "message_type" : "TEXT",
    "message" : "Ogx",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'DC9D76C4-477A-457F-A175-A5C8FBD8D29A-314-000000B807590967',
  message_type: 'TEXT',
  message: 'Ogx',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'a3e4bf2a-447b-4802-ae05-73e063ade0a9',
  create_at: '2017-08-09T10:19:59.588Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Ogx","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
989
Total Unread: 989
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'a2f24aac-ac76-5843-8018-18a848798039' },
  MessageId: '5152f5b2-d737-50a7-b8a9-a7b6333858dd' }
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"a3e4bf2a-447b-4802-ae05-73e063ade0a9","message_id":"DC9D76C4-477A-457F-A175-A5C8FBD8D29A-314-000000B807590967","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
io enter middleware
before decrypt tGpmpoczuJJaGKH8nCL/bQ==
after decrypt vincent7
Player ID isvincent7
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae1d1-267c28fd796007e059d0b65e","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"cnJtc2lldmtkZ3B4dmV1dQ=="},"time":"Wed Aug 09 2017 10:20:01 GMT+0000 (UTC)","address":"::ffff:172.31.24.250","xdomain":true,"secure":false,"issued":1502274001007,"url":"/socket.io/?transport=websocket&pass=tGpmpoczuJJaGKH8nCL%2FbQ%3D%3D&playerId=vincent7","query":{"transport":"websocket","pass":"tGpmpoczuJJaGKH8nCL/bQ==","playerId":"vincent7"}}
player id vincent7
hmsent register {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":5,"awesome_chips":"96200","onlineStatus":"2"}
[ { id: { S: 'vincent7' }, awesome_chips: { N: '96100' } } ]
hmsent awesomeChips {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "32C56789-E5E2-4056-ACF0-234AFB28450B-314-000000B809A62095",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "F4A18459-D906-448F-B96F-73CBEFCAE1A4-314-000000B8099DBB3A",
    "message_type" : "TEXT",
    "message" : "Please ",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'F4A18459-D906-448F-B96F-73CBEFCAE1A4-314-000000B8099DBB3A',
  message_type: 'TEXT',
  message: 'Please ',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'b1a7501d-445f-4419-b3d5-02b129470f25',
  create_at: '2017-08-09T10:20:01.124Z' }
io enter middleware
before decrypt 1KTVrMYy/Ecrba5M8HkfSg==
after decrypt vincent9
Player ID isvincent9
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae1d1-06354f3e42b5d57f6df194ee","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"dmNhbm9raGZ4ZXZqbGpidw=="},"time":"Wed Aug 09 2017 10:20:01 GMT+0000 (UTC)","address":"::ffff:172.31.3.250","xdomain":true,"secure":false,"issued":1502274001133,"url":"/socket.io/?transport=websocket&pass=1KTVrMYy%2FEcrba5M8HkfSg%3D%3D&playerId=vincent9","query":{"transport":"websocket","pass":"1KTVrMYy/Ecrba5M8HkfSg==","playerId":"vincent9"}}
player id vincent9
hmsent register {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":2,"awesome_chips":"1612","onlineStatus":"2"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Please ","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
[ { id: { S: 'vincent9' }, awesome_chips: { N: '1702' } } ]
hmsent awesomeChips {"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
990
Total Unread: 990
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'a063a163-452e-5c7a-99a4-f367a13fa601' },
  MessageId: 'f33f0a1b-a82e-52cc-9f01-581f4c3fa8b7' }
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"b1a7501d-445f-4419-b3d5-02b129470f25","message_id":"F4A18459-D906-448F-B96F-73CBEFCAE1A4-314-000000B8099DBB3A","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
notify_online {
  "friend_ids" : [
    "vincent9",
    "a58330",
    "hellowin",
    "a6",
    "ant3",
    "ant2",
    "ant8",
    "vincent5",
    "a7",
    "vincent",
    "ck",
    "wilson",
    "testonly",
    "vincent8",
    "an4",
    "vincent28",
    "vincent31",
    "ant7",
    "68666666",
    "vincent7",
    "vincent32",
    "ant9",
    "conniechen",
    "ant5",
    "eric",
    "eddy",
    "awesome",
    "andrewwan",
    "vincent2",
    "samsung",
    "vincent63472",
    "ant1",
    "ivan",
    "123123123",
    "v7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
[0mGET / [32m200 [0m3.995 ms - 11[0m
[0mGET / [32m200 [0m3.723 ms - 11[0m
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"b1a7501d-445f-4419-b3d5-02b129470f25","message_id":"F4A18459-D906-448F-B96F-73CBEFCAE1A4-314-000000B8099DBB3A","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"a3e4bf2a-447b-4802-ae05-73e063ade0a9","message_id":"DC9D76C4-477A-457F-A175-A5C8FBD8D29A-314-000000B807590967","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"ebec39e4-4c7f-4a47-a2da-6ad0869ec3c4","message_id":"D3296B8D-C61C-4F9C-9C65-107075E8F16A-314-000000B7FD359B2F","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"5998eebd-333f-4bb7-8b75-c05b93f945c9","message_id":"47165D3D-1358-4DA6-9E43-0939A27297A9-314-000000B7FBFED83F","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"270cfc42-b67e-4b33-a0f5-83606bd98d71","message_id":"4148CCC0-736F-42AF-B208-912D5C7B278B-314-000000B7F95E2997","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"eaadefbb-f2f2-49f2-901a-e4ef74e7d946","message_id":"ADFB978F-D7AF-4FD1-A266-81129DA28626-314-000000B7F7760C59","chat_id":"andrewwan:descendentofsun"}}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:vincent7:friend_online msg:{"friendId":"descendentofsun"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "FD244DC0-BA93-4A9E-A3A7-6C920B7E7B5C-314-000000B81A493049",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "F7C85FAD-FEBC-4BA1-A991-EE71726B8789-314-000000B81A41F8B5",
    "message_type" : "TEXT",
    "message" : "Ogcho",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'F7C85FAD-FEBC-4BA1-A991-EE71726B8789-314-000000B81A41F8B5',
  message_type: 'TEXT',
  message: 'Ogcho',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'e208a606-48a5-4d46-b181-4b1cbd526338',
  create_at: '2017-08-09T10:20:12.901Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Ogcho","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
991
Total Unread: 991
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'dab33a6b-c4f4-574d-841b-686f20e88f9b' },
  MessageId: '6969ecf2-38a5-5996-a684-bef6dcb89140' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"e208a606-48a5-4d46-b181-4b1cbd526338","message_id":"F7C85FAD-FEBC-4BA1-A991-EE71726B8789-314-000000B81A41F8B5","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
notify_online {
  "friend_ids" : [
    "vincent9",
    "a58330",
    "hellowin",
    "a6",
    "ant3",
    "ant2",
    "ant8",
    "vincent5",
    "a7",
    "vincent",
    "ck",
    "wilson",
    "testonly",
    "vincent8",
    "an4",
    "vincent28",
    "vincent31",
    "ant7",
    "68666666",
    "vincent7",
    "vincent32",
    "ant9",
    "conniechen",
    "ant5",
    "eric",
    "eddy",
    "awesome",
    "andrewwan",
    "vincent2",
    "samsung",
    "vincent63472",
    "ant1",
    "ivan",
    "123123123",
    "v7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
Send message channel:vincent7:friend_online msg:{"friendId":"andrewwan"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
action_packet {
  "packet_id" : "B507A187-D796-4228-B7DA-AFAB967B33E6-314-000000B81D9139FD",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "264E23DE-1070-4D74-97AF-BEE47607049F-314-000000B81D88A47C",
    "message_type" : "TEXT",
    "message" : "Chp",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '264E23DE-1070-4D74-97AF-BEE47607049F-314-000000B81D88A47C',
  message_type: 'TEXT',
  message: 'Chp',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'ddc22aab-613a-46aa-9c88-05166523731c',
  create_at: '2017-08-09T10:20:14.982Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Chp","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
992
Total Unread: 992
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '1d087ee7-159a-53e7-a0fd-2ce3f185ce70' },
  MessageId: '5e2caf54-42e3-5298-be23-fd50a6fc6f0f' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"ddc22aab-613a-46aa-9c88-05166523731c","message_id":"264E23DE-1070-4D74-97AF-BEE47607049F-314-000000B81D88A47C","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "2F9609F7-524D-45D1-87EF-3818C0A15DE7-314-000000B81EFD221F",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "EC73D891-6999-4FE4-8F2D-6C8845F57237-314-000000B81EF6A264",
    "message_type" : "TEXT",
    "message" : "Pch",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'EC73D891-6999-4FE4-8F2D-6C8845F57237-314-000000B81EF6A264',
  message_type: 'TEXT',
  message: 'Pch',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'fc1bec0a-faf4-416f-86ec-95842454872a',
  create_at: '2017-08-09T10:20:16.279Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Pch","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
993
Total Unread: 993
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'cfbf7d3a-8bca-5159-ac16-2f3e6fea76e8' },
  MessageId: '625856d1-a744-5ea4-b6f8-04d54364a915' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"fc1bec0a-faf4-416f-86ec-95842454872a","message_id":"EC73D891-6999-4FE4-8F2D-6C8845F57237-314-000000B81EF6A264","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
action_packet {
  "packet_id" : "9F94837B-D2B9-4616-874B-60088C9A2A25-314-000000B8202EAAE8",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "B4931565-4623-4C0E-8D83-4D6A5E2A23EC-314-000000B8202788EB",
    "message_type" : "TEXT",
    "message" : "Cou",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'B4931565-4623-4C0E-8D83-4D6A5E2A23EC-314-000000B8202788EB',
  message_type: 'TEXT',
  message: 'Cou',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'bb743806-f89b-47dd-a32a-fff066e8c877',
  create_at: '2017-08-09T10:20:16.894Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Cou","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
[0mGET / [32m200 [0m1.912 ms - 11[0m
[0mGET / [32m200 [0m4.037 ms - 11[0m
994
Total Unread: 994
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'ed7cafd5-1205-5470-a00d-fdd1f62591a0' },
  MessageId: '504cb0d0-aba9-529f-ad28-e2d44f89d74f' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"bb743806-f89b-47dd-a32a-fff066e8c877","message_id":"B4931565-4623-4C0E-8D83-4D6A5E2A23EC-314-000000B8202788EB","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "678255F1-3A87-435A-823A-C87680556DEA-314-000000B82157B4FA",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "5E1BEFF2-FF46-406A-A016-7EFDA5B8DCB5-314-000000B8214A01C6",
    "message_type" : "TEXT",
    "message" : "Ocy",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '5E1BEFF2-FF46-406A-A016-7EFDA5B8DCB5-314-000000B8214A01C6',
  message_type: 'TEXT',
  message: 'Ocy',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '96ddcc13-5970-4d4a-8bf0-1f6171969ce0',
  create_at: '2017-08-09T10:20:17.815Z' }
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Ocy","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
995
Total Unread: 995
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '5b8eead4-9f04-57b4-98b5-b8d07b25dc85' },
  MessageId: 'bd6b83c6-dda5-50f8-a916-d1c23984ebc9' }
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"96ddcc13-5970-4d4a-8bf0-1f6171969ce0","message_id":"5E1BEFF2-FF46-406A-A016-7EFDA5B8DCB5-314-000000B8214A01C6","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"96ddcc13-5970-4d4a-8bf0-1f6171969ce0","message_id":"5E1BEFF2-FF46-406A-A016-7EFDA5B8DCB5-314-000000B8214A01C6","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"bb743806-f89b-47dd-a32a-fff066e8c877","message_id":"B4931565-4623-4C0E-8D83-4D6A5E2A23EC-314-000000B8202788EB","chat_id":"andrewwan:descendentofsun"}}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"fc1bec0a-faf4-416f-86ec-95842454872a","message_id":"EC73D891-6999-4FE4-8F2D-6C8845F57237-314-000000B81EF6A264","chat_id":"andrewwan:descendentofsun"}}
action_packet {
  "packet_id" : "26FD7F29-DE48-4CB8-BCF5-97CEE5C136A5-314-000000B8259AF917",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "5ECD0651-810B-4514-A2E2-F2F56F110BFC-314-000000B8258B6D66",
    "message_type" : "TEXT",
    "message" : "Xgigix",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '5ECD0651-810B-4514-A2E2-F2F56F110BFC-314-000000B8258B6D66',
  message_type: 'TEXT',
  message: 'Xgigix',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'caf0dbde-8a40-44be-a29e-830f7cc4e20f',
  create_at: '2017-08-09T10:20:20.590Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Xgigix","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
996
Total Unread: 996
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'a78328e8-d624-5a90-8a17-7aec32009784' },
  MessageId: '88824b6e-05d6-5a77-a69a-196ae1f21763' }
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"ddc22aab-613a-46aa-9c88-05166523731c","message_id":"264E23DE-1070-4D74-97AF-BEE47607049F-314-000000B81D88A47C","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"action_name":"update_message_delivered","action_content":{"chat_id":"andrewwan:descendentofsun","dynamo_id":"caf0dbde-8a40-44be-a29e-830f7cc4e20f","message_id":"5ECD0651-810B-4514-A2E2-F2F56F110BFC-314-000000B8258B6D66","recipient_id":"descendentofsun","sender_id":"andrewwan"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"caf0dbde-8a40-44be-a29e-830f7cc4e20f","message_id":"5ECD0651-810B-4514-A2E2-F2F56F110BFC-314-000000B8258B6D66","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"caf0dbde-8a40-44be-a29e-830f7cc4e20f","message_id":"5ECD0651-810B-4514-A2E2-F2F56F110BFC-314-000000B8258B6D66","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"caf0dbde-8a40-44be-a29e-830f7cc4e20f","message_id":"5ECD0651-810B-4514-A2E2-F2F56F110BFC-314-000000B8258B6D66","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"e208a606-48a5-4d46-b181-4b1cbd526338","message_id":"F7C85FAD-FEBC-4BA1-A991-EE71726B8789-314-000000B81A41F8B5","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"e208a606-48a5-4d46-b181-4b1cbd526338","message_id":"F7C85FAD-FEBC-4BA1-A991-EE71726B8789-314-000000B81A41F8B5","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"e208a606-48a5-4d46-b181-4b1cbd526338","message_id":"F7C85FAD-FEBC-4BA1-A991-EE71726B8789-314-000000B81A41F8B5","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
Send message channel:descendentofsun:m msg:{"message":"og phv","send_by":"andrewwan","message_type":"TEXT","message_id":"74d341d2-90f0-42ce-bd6b-483ff9d4d9d5","chat_id":"andrewwan:descendentofsun","create_at":"2017-08-09T10:20:22.522Z","dynamo_id":"3f1a7a67-629d-410e-80bc-066ec774b0ee","video_type":"(null)"}
Send message channel:descendentofsun:typing msg:{"friendId":"andrewwan","text":".,x.hideTyping"}
action_packet {
  "packet_id" : "905B15A0-0F76-4B77-BF82-5EA9335AEE96-314-000000B82901E9E8",
  "action_name" : "Notify_Message_Delivered",
  "action_content" : {
    "dynamo_id" : "3f1a7a67-629d-410e-80bc-066ec774b0ee",
    "sender_id" : "descendentofsun",
    "message_id" : "74d341d2-90f0-42ce-bd6b-483ff9d4d9d5",
    "chat_id" : "andrewwan:descendentofsun",
    "recipient_id" : "andrewwan"
  }
}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"1","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:vincent7:friend_online msg:{"friendId":"descendentofsun"}
request_packet {
  "packet_id" : "9987B49D-BEC7-41B3-ABCB-85FB4523571C-314-000000B82B1DE153",
  "request_name" : "Notify_A_Lot_Of_Messages_Read",
  "request_content" : {
    "chatId" : "andrewwan:descendentofsun",
    "messageId" : "74d341d2-90f0-42ce-bd6b-483ff9d4d9d5",
    "postBy" : "andrewwan",
    "modifyAt" : "2017-08-09T10:20:22.522Z",
    "messageText" : "og phv",
    "createAt" : "2017-08-09T10:20:22.522Z",
    "video_type" : "(null)",
    "messageType" : "TEXT",
    "messageStatus" : "READ",
    "dynamoId" : "3f1a7a67-629d-410e-80bc-066ec774b0ee"
  }
}
3f1a7a67-629d-410e-80bc-066ec774b0ee
ok
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
Send message channel:descendentofsun:friend_offline msg:{"friendId":"andrewwan"}
Send message channel:vincent9:friend_offline msg:{"friendId":"andrewwan"}
Send message channel:vincent7:friend_offline msg:{"friendId":"andrewwan"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "a58330",
    "hellowin",
    "a6",
    "ant3",
    "ant2",
    "ant8",
    "vincent5",
    "a7",
    "vincent",
    "ck",
    "wilson",
    "testonly",
    "vincent8",
    "an4",
    "vincent28",
    "vincent31",
    "ant7",
    "68666666",
    "vincent7",
    "vincent32",
    "ant9",
    "conniechen",
    "ant5",
    "eric",
    "eddy",
    "awesome",
    "andrewwan",
    "vincent2",
    "samsung",
    "vincent63472",
    "ant1",
    "ivan",
    "123123123",
    "v7",
    "descendentofsun"
  ]
}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m0.424 ms - 11[0m
[0mGET / [32m200 [0m0.240 ms - 11[0m
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"}]"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"}]"}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:vincent7:friend_online msg:{"friendId":"descendentofsun"}
action_packet {
  "packet_id" : "9C16361A-F398-4DF4-8BF7-523453A2EF17-314-000000B840A76083",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E",
    "message_type" : "TEXT",
    "message" : "Hpcpgu",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: 'CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E',
  message_type: 'TEXT',
  message: 'Hpcpgu',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: '386e4326-6fe3-4b4f-8cef-763d92c74828',
  create_at: '2017-08-09T10:20:39.627Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Hpcpgu","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
997
Total Unread: 997
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'ad75a822-ffaa-5611-b7a4-fa261b9d943f' },
  MessageId: '746a6392-a4bc-5ca5-a61f-3196408b2e8b' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "D83AAA2B-89C7-4F84-8F1C-7E9148EB9643-314-000000B841F561C5",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "3123EDAF-DF7B-4E39-BFDF-A50B15A6491C-314-000000B841EE38E6",
    "message_type" : "TEXT",
    "message" : "Ohc",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '3123EDAF-DF7B-4E39-BFDF-A50B15A6491C-314-000000B841EE38E6',
  message_type: 'TEXT',
  message: 'Ohc',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'c5e8274b-f829-4435-8f4d-5b11e13a1b4a',
  create_at: '2017-08-09T10:20:40.651Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Ohc","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
998
Total Unread: 998
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: 'af0a3229-90f0-5708-896a-602d74c8513f' },
  MessageId: '568d404d-c5f7-5138-be9e-124921cf970f' }
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
typing {
  "text" : ".,x.hideTyping",
  "friendId" : "andrewwan"
}
action_packet {
  "packet_id" : "D625FBD9-FDDB-456C-89AB-B67EE5FF0D7A-314-000000B8440DCDA8",
  "action_name" : "send_message",
  "action_content" : {
    "recipient_id" : "andrewwan",
    "sender_name" : "Andrew - iPhone6",
    "group_id" : "andrewwan:descendentofsun",
    "message_id" : "55211FA7-E3AF-47DE-AED9-390106FAB3FA-314-000000B844077EB3",
    "message_type" : "TEXT",
    "message" : "Cu",
    "video_type" : ".mov",
    "sender_id" : "descendentofsun"
  }
}
sendMessageToFriendIncludeResend successful
send message v3 success andrewwan
***** send_message_v2 *****
{ recipient_id: 'andrewwan',
  sender_name: 'Andrew - iPhone6',
  group_id: 'andrewwan:descendentofsun',
  message_id: '55211FA7-E3AF-47DE-AED9-390106FAB3FA-314-000000B844077EB3',
  message_type: 'TEXT',
  message: 'Cu',
  video_type: '.mov',
  sender_id: 'descendentofsun',
  dynamo_id: 'cd2002b0-5804-4a8f-8cac-56f30e64e370',
  create_at: '2017-08-09T10:20:42.084Z' }
true
send sns data, data is {"awesome_id":"andrewwan","message":"Andrew - iPhone6 : Cu","extra":{"message_type":"single_chat","from_player":"descendentofsun"}}
send sns data, extra data is {"message_type":"single_chat","from_player":"descendentofsun"}
999
Total Unread: 999
Endpoint Arn: arn:aws:sns:us-east-1:442395450210:endpoint/GCM/awesome_apns_production_android/b385027b-4296-35c8-800f-a5ad6f266cd4
Device Plaform: ANDROID
getEndpointAttributes true
push sent
{ ResponseMetadata: { RequestId: '078801a6-e5f0-5bbb-93db-53a201ca2ff6' },
  MessageId: '303c70b8-35a4-5377-aa22-22bcd19e373a' }
notify_online {
  "friend_ids" : [
    "vincent9",
    "a58330",
    "hellowin",
    "a6",
    "ant3",
    "ant2",
    "ant8",
    "vincent5",
    "a7",
    "vincent",
    "ck",
    "wilson",
    "testonly",
    "vincent8",
    "an4",
    "vincent28",
    "vincent31",
    "ant7",
    "68666666",
    "vincent7",
    "vincent32",
    "ant9",
    "conniechen",
    "ant5",
    "eric",
    "eddy",
    "awesome",
    "andrewwan",
    "vincent2",
    "samsung",
    "vincent63472",
    "ant1",
    "ivan",
    "123123123",
    "v7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
[0mGET / [32m200 [0m1.927 ms - 11[0m
[0mGET / [32m200 [0m2.278 ms - 11[0m
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"}]"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"}]"}
io enter middleware
before decrypt LyCnrCX0iHgRGm2b+5eHKg==
after decrypt andrewwan
Player ID isandrewwan
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae202-32eeae5456885c9c3c82e2b9","upgrade":"websocket","connection":"upgrade","cookie":"AWSALB=","sec-websocket-key":"Ppn7p0QDrFKZs4C+W+fbew==","sec-websocket-version":"13","accept-encoding":"gzip","user-agent":"okhttp/3.8.1"},"time":"Wed Aug 09 2017 10:20:50 GMT+0000 (UTC)","address":"::ffff:172.31.24.250","xdomain":false,"secure":false,"issued":1502274050853,"url":"/socket.io/?EIO=3&playerId=andrewwan&pass=LyCnrCX0iHgRGm2b%2B5eHKg%3D%3D&transport=websocket","query":{"EIO":"3","playerId":"andrewwan","pass":"LyCnrCX0iHgRGm2b+5eHKg==","transport":"websocket"}}
player id andrewwan
hmsent register {"awesome_id":"andrewwan","onlineStatus":2,"awesome_chips":0,"login_times":1}
[ { id: { S: 'andrewwan' }, awesome_chips: { N: '99779' } } ]
hmsent awesomeChips {"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
notify_online {
  "friend_ids" : [
    "descendentofsun",
    "andrewwan",
    "awesome",
    "howareyou",
    "eddy",
    "vincent6",
    "andrew",
    "eric",
    "123123123",
    "vincent",
    "ivan",
    "vincent7",
    "ck"
  ]
}
Send message channel:descendentofsun:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:andrewwan:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:vincent7:friend_online msg:{"friendId":"descendentofsun"}
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
notify_online {"friend_ids" : ["andrewwan","ant7","123123123","andrew-chevk","ant5","andrew","ivannew","awesome","ck","andrew-test","descendentofsun","howareyou","vincent63472","ivanlgpro2","vincent9","vincent8","vincent6","ant8","ivan","conniechen","eddy","elvis","ivan-nokia6","samsung","testonly","ivanlgv10","vincent","vincent7","cara","vincent31","ant2","a3","ivanipad","vincent5","68666666","ant1","a6","ant9","ant3","vincent32","hellowin","vincent2","vincent28","wilson","an4","ant4"]}
Send message channel:andrewwan:friend_online msg:{"friendId":"andrewwan"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"andrewwan"}
Send message channel:vincent9:friend_online msg:{"friendId":"andrewwan"}
Send message channel:vincent7:friend_online msg:{"friendId":"andrewwan"}
hgetall{"awesome_id":"andrewwan","onlineStatus":"2","awesome_chips":"99779","login_times":"1"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
game {"header":"game","cmd":1008,"custom":1,"msg":"vincent7,vincent9"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1008
Custom Use: 1
Message: vincent7,vincent9
========================================================================
==========================request to replay=============================
========================================================================
vincent7 send to player 2 successful vincent9 2008
send return to the player 1,send successful 1008
Send message channel:vincent9:game msg:{"cmd":2008,"custom":2,"msg":"vincent7"}
Send message channel:vincent7:game msg:{"cmd":1008,"custom":200,"msg":"successful"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
game {"header":"game","cmd":1010,"custom":1,"msg":"vincent9,vincent7"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1010
Custom Use: 1
Message: vincent9,vincent7
========================================================================
==========================accept play by invite=========================
========================================================================
vincent9 send to player 2 successful vincent7 2010
send return to the player 1,send successful 1010
update player: vincent9 status: 1
update player: vincent7 status: 1
Send message channel:vincent7:game msg:{"cmd":2010,"custom":2,"msg":"vincent9"}
Send message channel:vincent9:game msg:{"cmd":1010,"custom":200,"msg":"successful"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"1\",\"chips\":\"1702\"}]"}
Send message channel:vincent7:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"1\",\"chips\":\"1702\"}]"}
Send message channel:andrewwan:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"1\",\"chips\":\"1702\"}]"}
Send message channel:descendentofsun:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"1\",\"chips\":\"1702\"}]"}
Send message channel:vincent7:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"96100\"}]"}
Send message channel:vincent9:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"96100\"}]"}
Send message channel:andrewwan:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"96100\"}]"}
Send message channel:descendentofsun:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"1\",\"chips\":\"96100\"}]"}
notify_online {
  "friend_ids" : [
    "vincent9",
    "a58330",
    "hellowin",
    "a6",
    "ant3",
    "ant2",
    "ant8",
    "vincent5",
    "a7",
    "vincent",
    "ck",
    "wilson",
    "testonly",
    "vincent8",
    "an4",
    "vincent28",
    "vincent31",
    "ant7",
    "68666666",
    "vincent7",
    "vincent32",
    "ant9",
    "conniechen",
    "ant5",
    "eric",
    "eddy",
    "awesome",
    "andrewwan",
    "vincent2",
    "samsung",
    "vincent63472",
    "ant1",
    "ivan",
    "123123123",
    "v7",
    "descendentofsun"
  ]
}
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent9:friend_online msg:{"friendId":"vincent9"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
Send message channel:andrewwan:friend_online msg:{"friendId":"vincent9"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent9"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"5","awesome_chips":"96100","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"2","awesome_chips":"1702","onlineStatus":"2"}
hgetallvincent9
hgetall{"login_times":"1","awesome_chips":"99779","onlineStatus":"2","awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"3","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent9:friend_online msg:{"friendId":"vincent7"}
Send message channel:andrewwan:friend_online msg:{"friendId":"vincent7"}
Send message channel:descendentofsun:friend_online msg:{"friendId":"vincent7"}
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "cd2002b0-5804-4a8f-8cac-56f30e64e370", "messageId" : "55211FA7-E3AF-47DE-AED9-390106FAB3FA-314-000000B844077EB3"},"packet_id":"5e4f0d1c-5696-4840-a1e0-5fda003bded4"}
cd2002b0-5804-4a8f-8cac-56f30e64e370
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"cd2002b0-5804-4a8f-8cac-56f30e64e370","message_id":"55211FA7-E3AF-47DE-AED9-390106FAB3FA-314-000000B844077EB3","chat_id":"andrewwan:descendentofsun"}}
ok
[0mGET / [32m200 [0m3.096 ms - 11[0m
[0mGET / [32m200 [0m0.871 ms - 11[0m
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "c5e8274b-f829-4435-8f4d-5b11e13a1b4a", "messageId" : "3123EDAF-DF7B-4E39-BFDF-A50B15A6491C-314-000000B841EE38E6"},"packet_id":"be5643ad-216a-423e-9a79-b3cf06b1b0e4"}
c5e8274b-f829-4435-8f4d-5b11e13a1b4a
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"c5e8274b-f829-4435-8f4d-5b11e13a1b4a","message_id":"3123EDAF-DF7B-4E39-BFDF-A50B15A6491C-314-000000B841EE38E6","chat_id":"andrewwan:descendentofsun"}}
ok
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "c5e8274b-f829-4435-8f4d-5b11e13a1b4a", "messageId" : "3123EDAF-DF7B-4E39-BFDF-A50B15A6491C-314-000000B841EE38E6"},"packet_id":"7433bd53-13fe-4735-9a2f-e13058e02b33"}
c5e8274b-f829-4435-8f4d-5b11e13a1b4a
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"c5e8274b-f829-4435-8f4d-5b11e13a1b4a","message_id":"3123EDAF-DF7B-4E39-BFDF-A50B15A6491C-314-000000B841EE38E6","chat_id":"andrewwan:descendentofsun"}}
ok
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "386e4326-6fe3-4b4f-8cef-763d92c74828", "messageId" : "CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E"},"packet_id":"8b93bdf9-8682-4701-afcc-c77630989240"}
386e4326-6fe3-4b4f-8cef-763d92c74828
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "386e4326-6fe3-4b4f-8cef-763d92c74828", "messageId" : "CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E"},"packet_id":"d8b5f3b3-c41f-42b6-b796-07d508b93f6c"}
386e4326-6fe3-4b4f-8cef-763d92c74828
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"386e4326-6fe3-4b4f-8cef-763d92c74828","message_id":"CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"386e4326-6fe3-4b4f-8cef-763d92c74828","message_id":"CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E","chat_id":"andrewwan:descendentofsun"}}
ok
ok
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "386e4326-6fe3-4b4f-8cef-763d92c74828", "messageId" : "CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E"},"packet_id":"bdb7cc9c-5f59-407f-a854-72771c0409ac"}
386e4326-6fe3-4b4f-8cef-763d92c74828
request_packet {"request_name":"Notify_A_Lot_Of_Messages_Read","request_content":{ "chatId" : "andrewwan:descendentofsun", "postBy" : "descendentofsun", "dynamoId" : "386e4326-6fe3-4b4f-8cef-763d92c74828", "messageId" : "CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E"},"packet_id":"92043089-d327-466c-bcbb-7e8bd63311db"}
386e4326-6fe3-4b4f-8cef-763d92c74828
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"386e4326-6fe3-4b4f-8cef-763d92c74828","message_id":"CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E","chat_id":"andrewwan:descendentofsun"}}
Send message channel:descendentofsun:action_packet msg:{"header":"action_packet","action_name":"update_message_read","action_content":{"dynamo_id":"386e4326-6fe3-4b4f-8cef-763d92c74828","message_id":"CE2F917D-5E1A-40A6-A623-1DA75CDCEAC8-314-000000B8409F724E","chat_id":"andrewwan:descendentofsun"}}
ok
ok
game {"header":"game","cmd":1003,"custom":1,"msg":"vincent9,vincent7"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1003
Custom Use: 1
Message: vincent9,vincent7
========================================================================
==========================start game====================================
========================================================================
friend player id vincent7
friend chips 96100
my chips 1702
send to player 2 successful vincent7 2003
send return to the player 1,send successful 1003
findGamePair find failed vincent7:vincent9
two====vincent9 cal chips -10====
two====vincent7 cal chips -10====
------_add_awesome_chips_transaction-----
awesome_id:vincent9
chips_transform:-10
create_at:2017-08-09T10:21:04.942Z
current_awesome_chips:null
------_add_awesome_chips_transaction-----
awesome_id:vincent7
chips_transform:-10
create_at:2017-08-09T10:21:04.942Z
current_awesome_chips:null
add game pair success vincent7:vincent9 {"p1PlayerId":"vincent9","p2PlayerId":"vincent7","pairId":"vincent7:vincent9"}
Send message channel:vincent7:game msg:{"cmd":2003,"custom":200,"msg":"vincent9"}
Send message channel:vincent9:game msg:{"cmd":1003,"custom":200,"msg":"successful"}
==========
[ { id: { S: 'vincent9' }, awesome_chips: { N: '1702' } } ]
current_awesome_chips1702
-----update_awesome_chips------
awesome_id:vincent9
current_awesome_chips:1702
chips_transform:-10
==========
[ { id: { S: 'vincent7' }, awesome_chips: { N: '96100' } } ]
current_awesome_chips96100
-----update_awesome_chips------
awesome_id:vincent7
current_awesome_chips:96100
chips_transform:-10
{ status: 'success',
  awesome_id: 'vincent9',
  awesome_chips: '1692',
  message: 'awesome chips have been updated' }
set chips vincent9 chips 1692
update player: [object Object] status: 2
add_awesome_chips_transaction -1 
{ status: 'success',
  awesome_id: 'vincent9',
  awesome_chips: '1692',
  message: 'awesome chips have been updated' }
node_redis: Deprecated: The HGETALL command contains a argument of type Socket.
This is converted to "[object Object]" by using .toString() now and will return an error from v.3.0 on.
Please handle this in your code to make sure everything works as you intended it to.
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '96090',
  message: 'awesome chips have been updated' }
set chips vincent7 chips 96090
update player: [object Object] status: 2
add_awesome_chips_transaction -1 
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '96090',
  message: 'awesome chips have been updated' }
node_redis: Deprecated: The HGETALL command contains a argument of type Socket.
This is converted to "[object Object]" by using .toString() now and will return an error from v.3.0 on.
Please handle this in your code to make sure everything works as you intended it to.
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent9,vincent7,123123123,andrewwan,ant2,vincent5,vincent,ck,wilson,testonly,vincent8,an4,vincent28,vincent31,ant7,68666666,hellowin,vincent32,ant9,conniechen,ant5,eric,eddy,awesome,ant3,vincent2,samsung,vincent63472,ant1,ivan,a6,v7"}
Send message channel:vincent9:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"96100\"},{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
game {"header":"game","cmd":1003,"custom":1,"msg":"vincent7,vincent9"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1003
Custom Use: 1
Message: vincent7,vincent9
========================================================================
==========================start game====================================
========================================================================
friend player id vincent9
friend chips 1702
my chips 96100
send to player 2 successful vincent9 2003
send return to the player 1,send successful 1003
findGamePair find success vincent7:vincent9 {"p1PlayerId":"vincent9","p2PlayerId":"vincent7","pairId":"vincent7:vincent9"}
add game pair failed vincent7:vincent9
Send message channel:vincent9:game msg:{"cmd":2003,"custom":200,"msg":"vincent7"}
Send message channel:vincent7:game msg:{"cmd":1003,"custom":200,"msg":"successful"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1702\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
========================================================================
========================getChipsAndSendToFriends========================
========================================================================
getChipsAndSendToFriends vincent9
========================================================================
========================getChipsAndSendToFriends========================
========================================================================
getChipsAndSendToFriends vincent7
[ { id: { S: 'vincent7' }, awesome_chips: { N: '96090' } } ]
vincent7 get awesome chips 96090
/home/ec2-user/abc/awsome_modules/Game.js:540
            myObj.awesome_chips = obj.awesome_chips;awesome_chips
                                                    ^

ReferenceError: awesome_chips is not defined
    at Command.callback (/home/ec2-user/abc/awsome_modules/Game.js:540:53)
    at normal_reply (/home/ec2-user/abc/node_modules/redis/index.js:721:21)
    at RedisClient.return_reply (/home/ec2-user/abc/node_modules/redis/index.js:819:9)
    at JavascriptRedisParser.returnReply (/home/ec2-user/abc/node_modules/redis/index.js:192:18)
    at JavascriptRedisParser.execute (/home/ec2-user/abc/node_modules/redis-parser/lib/parser.js:574:12)
    at Socket.<anonymous> (/home/ec2-user/abc/node_modules/redis/index.js:274:27)
    at emitOne (events.js:115:13)
    at Socket.emit (events.js:210:7)
    at addChunk (_stream_readable.js:252:12)
    at readableAddChunk (_stream_readable.js:239:11)
error: Forever detected script exited with code: 1
error: Script restart attempt #1
ok
Config
2017-08-09T10:21:06.604Z
Cognito
the cognitoidentity is [object Object]
SNS
setting tcp
setting sns
PostAPI
PostAPI_Chat
PostAPI_Wall
PostAPI_Pet
PostAPI_Chips
PostAPI_Login
PostAPI_Shop
PostAPI_Debug
Game init
======================
apiPort listening 2492
tcpPort listening 3000
======================
Server listening at port 3000
[0mGET / [32m200 [0m5.816 ms - 11[0m
[0mGET / [32m200 [0m5.652 ms - 11[0m
[0mGET / [32m200 [0m3.302 ms - 11[0m
[0mGET / [32m200 [0m2.160 ms - 11[0m
[0mGET / [32m200 [0m1.036 ms - 11[0m
[0mGET / [32m200 [0m1.458 ms - 11[0m
io enter middleware
before decrypt tGpmpoczuJJaGKH8nCL/bQ==
after decrypt vincent7
Player ID isvincent7
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae245-0cbd66c136ad43b759f3451d","upgrade":"websocket","connection":"upgrade","sec-websocket-version":"13","origin":"ws://socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","sec-websocket-key":"Zm1taWprbGJ5cWxtdGtwYw=="},"time":"Wed Aug 09 2017 10:21:57 GMT+0000 (UTC)","address":"::ffff:172.31.3.250","xdomain":true,"secure":false,"issued":1502274117370,"url":"/socket.io/?transport=websocket&pass=tGpmpoczuJJaGKH8nCL%2FbQ%3D%3D&playerId=vincent7","query":{"transport":"websocket","pass":"tGpmpoczuJJaGKH8nCL/bQ==","playerId":"vincent7"}}
player id vincent7
hmsent register {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":7,"awesome_chips":"96090","onlineStatus":"2"}
[ { id: { S: 'vincent7' }, awesome_chips: { N: '95980' } } ]
hmsent awesomeChips {"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"7","awesome_chips":"95980","onlineStatus":"2"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"7","awesome_chips":"95980","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"5","awesome_chips":"1782","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"3","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"4","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"7","awesome_chips":"95980","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"5","awesome_chips":"1782","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"3","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"4","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
[0mGET / [32m200 [0m2.159 ms - 11[0m
[0mGET / [32m200 [0m1.772 ms - 11[0m
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent7,vincent9|0.000000:2.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent7,vincent9|0.000000:2.000000
============================next player===========================
send to player vincent9 successful
send return to the vincent7,send successful
Send message channel:vincent7:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1782\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
Send message channel:vincent7:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:vincent7:friend_online msg:{"friendId":"andrewwan"}
Send message channel:vincent7:game msg:{"cmd":2004,"custom":200,"msg":"3.000000:3.000000"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"7","awesome_chips":"95980","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"5","awesome_chips":"1782","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"3","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"4","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1782\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
[0mGET / [32m200 [0m0.845 ms - 11[0m
[0mGET / [32m200 [0m1.177 ms - 11[0m
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent7,vincent9|3.000000:2.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent7,vincent9|3.000000:2.000000
============================next player===========================
send to player vincent9 successful
send return to the vincent7,send successful
Send message channel:vincent7:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
Send message channel:vincent7:game msg:{"cmd":2004,"custom":200,"msg":"2.000000:3.000000"}
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent7,vincent9|4.000000:2.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent7,vincent9|4.000000:2.000000
============================next player===========================
send to player vincent9 successful
send return to the vincent7,send successful
Send message channel:vincent7:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
Send message channel:vincent7:friend_online msg:{"friendId":"descendentofsun"}
Send message channel:vincent7:game msg:{"cmd":2004,"custom":200,"msg":"2.000000:1.000000"}
Send message channel:vincent7:friend_online msg:{"friendId":"andrewwan"}
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent7,vincent9|3.000000:1.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent7,vincent9|3.000000:1.000000
============================next player===========================
send to player vincent9 successful
send return to the vincent7,send successful
Send message channel:vincent7:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
game {"header":"game","cmd":1000,"custom":1,"msg":"vincent7,123123123,vincent9,andrewwan,vincent5,vincent6,vincent8,vincent,eddy,vincent2,awesome,ivan,ant2,ant5,testonly,ant1"}
Send message channel:vincent7:game msg:{"cmd":2000,"custom":200,"msg":"[{\"friendId\":\"123123123\",\"onlineStatus\":\"2\",\"chips\":\"964\"},{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1782\"},{\"friendId\":\"andrewwan\",\"onlineStatus\":\"2\",\"chips\":\"99779\"}]"}
Send message channel:vincent7:game msg:{"cmd":2004,"custom":200,"msg":"1.000000:3.000000"}
game {"header":"game","cmd":1004,"custom":1,"msg":"vincent7,vincent9|4.000000:4.000000"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1004
Custom Use: 1
Message: vincent7,vincent9|4.000000:4.000000
============================next player===========================
send to player vincent9 successful
send return to the vincent7,send successful
Send message channel:vincent7:game msg:{"cmd":1004,"custom":200,"msg":"successful"}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent9"}
notify_online {
  "friend_ids" : [
    "vincent7",
    "vincent5",
    "vincent9",
    "vincent6",
    "vincent8",
    "vincent",
    "eddy",
    "vincent2",
    "awesome",
    "ivan",
    "andrewwan",
    "andrew-chevk",
    "68666666",
    "a6",
    "ant3",
    "an4",
    "ant4",
    "ant7",
    "conniechen",
    "ant9",
    "hellowin",
    "vincent28",
    "vincent31",
    "vincent32",
    "vincent63472",
    "wilson",
    "123123123",
    "ant2",
    "ant5",
    "testonly",
    "ant1",
    "(null)",
    "descendentofsun",
    "ck"
  ]
}
Send message channel:vincent7:friend_online msg:{"friendId":"vincent7"}
hgetall{"awesome_id":"vincent7","friendIds":"[\"vincent7\",\"vincent5\",\"vincent9\",\"vincent6\",\"vincent8\",\"vincent\",\"eddy\",\"vincent2\",\"awesome\",\"ivan\",\"andrewwan\",\"andrew-chevk\",\"68666666\",\"a6\",\"ant3\",\"an4\",\"ant4\",\"ant7\",\"conniechen\",\"ant9\",\"hellowin\",\"vincent28\",\"vincent31\",\"vincent32\",\"vincent63472\",\"wilson\",\"123123123\",\"ant2\",\"ant5\",\"testonly\",\"ant1\",\"(null)\",\"descendentofsun\",\"ck\"]","login_times":"7","awesome_chips":"95980","onlineStatus":"2"}
hgetallvincent7
hgetall{"awesome_id":"vincent9","friendIds":"[\"vincent9\",\"a58330\",\"hellowin\",\"a6\",\"ant3\",\"ant2\",\"ant8\",\"vincent5\",\"a7\",\"vincent\",\"ck\",\"wilson\",\"testonly\",\"vincent8\",\"an4\",\"vincent28\",\"vincent31\",\"ant7\",\"68666666\",\"vincent7\",\"vincent32\",\"ant9\",\"conniechen\",\"ant5\",\"eric\",\"eddy\",\"awesome\",\"andrewwan\",\"vincent2\",\"samsung\",\"vincent63472\",\"ant1\",\"ivan\",\"123123123\",\"v7\",\"descendentofsun\"]","login_times":"5","awesome_chips":"1782","onlineStatus":"2"}
hgetallvincent9
hgetall{"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"3","awesome_chips":"99779","onlineStatus":"2"}
hgetallandrewwan
hgetall{"awesome_chips":"964","onlineStatus":"2","awesome_id":"123123123","friendIds":"[\"123123123\",\"awesome\",\"vincent\",\"andrewwan\",\"vincent6\",\"eric\",\"vincent5\",\"ivannew\",\"ivanipad\",\"ivan\",\"descendentofsun\",\"ant9\",\"eddy\",\"ant5\",\"vincent8\",\"vincent7\",\"vincent9\",\"vincent31\",\"ivan-nokia6\",\"a3\",\"cara\",\"wilson\",\"vincent28\",\"ant1\",\"a6\",\"vincent32\",\"68666666\",\"conniechen\",\"ant4\",\"ant2\",\"andrew\",\"vincent63472\",\"ivanlgpro2\",\"hellowin\",\"ivanlgv10\",\"samsung\",\"ck\",\"ant3\",\"testonly\",\"an4\",\"ant7\",\"vincent2\",\"andrew-chevk\"]"}
hgetall123123123
hgetall{"awesome_id":"descendentofsun","friendIds":"[\"descendentofsun\",\"andrewwan\",\"awesome\",\"howareyou\",\"eddy\",\"vincent6\",\"andrew\",\"eric\",\"123123123\",\"vincent\",\"ivan\",\"vincent7\",\"ck\"]","login_times":"4","awesome_chips":"1052","onlineStatus":"2"}
hgetalldescendentofsun
Send message channel:vincent7:game msg:{"cmd":2004,"custom":200,"msg":"0.000000:3.000000"}
game {"header":"game","cmd":1005,"custom":2,"msg":"vincent7,vincent9"}
========================================================================
==========================Received Data=================================
========================================================================
Cmd Code: 1005
Custom Use: 2
Message: vincent7,vincent9
========================================================================
==================================game end==============================
========================================================================
client vincent7 vs vincent9 [object Object]
findGamePair find success vincent7:vincent9 {"p1PlayerId":"vincent9","p2PlayerId":"vincent7","pairId":"vincent7:vincent9","p1Result":"1"}
========================================================================
============================win or lose player==========================
========================================================================
competition is{"p1PlayerId":"vincent9","p2PlayerId":"vincent7","pairId":"vincent7:vincent9","p1Result":"1","p2Result":2}
game result is find, now check the data
result is [object Object]
validation is finish, all data is correct!
two====vincent9 cal chips 100====
two====vincent7 cal chips -100====
------_add_awesome_chips_transaction-----
awesome_id:vincent9
chips_transform:100
create_at:2017-08-09T10:22:30.275Z
current_awesome_chips:null
------_add_awesome_chips_transaction-----
awesome_id:vincent7
chips_transform:-100
create_at:2017-08-09T10:22:30.275Z
current_awesome_chips:null
update player: vincent7 status: 2
update player: vincent9 status: 2
Send message channel:vincent7:game msg:{"cmd":2005,"custom":2,"msg":"vincent7"}
Send message channel:vincent7:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent7\",\"onlineStatus\":\"2\",\"chips\":\"95980\"}]"}
Send message channel:vincent7:game msg:{"cmd":3000,"custom":200,"msg":"[{\"friendId\":\"vincent9\",\"onlineStatus\":\"2\",\"chips\":\"1782\"}]"}
==========
[ { id: { S: 'vincent9' }, awesome_chips: { N: '1782' } } ]
current_awesome_chips1782
-----update_awesome_chips------
awesome_id:vincent9
current_awesome_chips:1782
chips_transform:100
==========
[ { id: { S: 'vincent7' }, awesome_chips: { N: '95980' } } ]
current_awesome_chips95980
-----update_awesome_chips------
awesome_id:vincent7
current_awesome_chips:95980
chips_transform:-100
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '95880',
  message: 'awesome chips have been updated' }
set chips vincent7 chips 95880
update player: [object Object] status: 2
add_awesome_chips_transaction -1 
{ status: 'success',
  awesome_id: 'vincent7',
  awesome_chips: '95880',
  message: 'awesome chips have been updated' }
node_redis: Deprecated: The HGETALL command contains a argument of type Socket.
This is converted to "[object Object]" by using .toString() now and will return an error from v.3.0 on.
Please handle this in your code to make sure everything works as you intended it to.
{ status: 'success',
  awesome_id: 'vincent9',
  awesome_chips: '1882',
  message: 'awesome chips have been updated' }
set chips vincent9 chips 1882
add_awesome_chips_transaction -1 
{ status: 'success',
  awesome_id: 'vincent9',
  awesome_chips: '1882',
  message: 'awesome chips have been updated' }
========================================================================
========================getChipsAndSendToFriends========================
========================================================================
getChipsAndSendToFriends vincent7
========================================================================
========================getChipsAndSendToFriends========================
========================================================================
getChipsAndSendToFriends vincent9
[ { id: { S: 'vincent7' }, awesome_chips: { N: '95880' } } ]
vincent7 get awesome chips 95880
/home/ec2-user/abc/awsome_modules/Game.js:540
            myObj.awesome_chips = obj.awesome_chips;awesome_chips
                                                    ^

ReferenceError: awesome_chips is not defined
    at Command.callback (/home/ec2-user/abc/awsome_modules/Game.js:540:53)
    at normal_reply (/home/ec2-user/abc/node_modules/redis/index.js:721:21)
    at RedisClient.return_reply (/home/ec2-user/abc/node_modules/redis/index.js:819:9)
    at JavascriptRedisParser.returnReply (/home/ec2-user/abc/node_modules/redis/index.js:192:18)
    at JavascriptRedisParser.execute (/home/ec2-user/abc/node_modules/redis-parser/lib/parser.js:574:12)
    at Socket.<anonymous> (/home/ec2-user/abc/node_modules/redis/index.js:274:27)
    at emitOne (events.js:115:13)
    at Socket.emit (events.js:210:7)
    at addChunk (_stream_readable.js:252:12)
    at readableAddChunk (_stream_readable.js:239:11)
error: Forever detected script exited with code: 1
error: Script restart attempt #2
ok
Config
2017-08-09T10:22:31.938Z
Cognito
the cognitoidentity is [object Object]
SNS
setting tcp
setting sns
PostAPI
PostAPI_Chat
PostAPI_Wall
PostAPI_Pet
PostAPI_Chips
PostAPI_Login
PostAPI_Shop
PostAPI_Debug
Game init
======================
apiPort listening 2492
tcpPort listening 3000
======================
Server listening at port 3000
[0mGET / [32m200 [0m9.849 ms - 11[0m
[0mGET / [32m200 [0m10.297 ms - 11[0m
[0mGET / [32m200 [0m2.604 ms - 11[0m
[0mGET / [32m200 [0m3.586 ms - 11[0m
[0mGET / [32m200 [0m9.892 ms - 11[0m
[0mGET / [32m200 [0m1.480 ms - 11[0m
[0mGET / [32m200 [0m0.527 ms - 11[0m
[0mGET / [32m200 [0m0.358 ms - 11[0m
[0mGET / [32m200 [0m0.911 ms - 11[0m
[0mGET / [32m200 [0m1.076 ms - 11[0m
[0mGET / [32m200 [0m0.729 ms - 11[0m
[0mGET / [32m200 [0m0.935 ms - 11[0m
io enter middleware
before decrypt LyCnrCX0iHgRGm2b+5eHKg==
after decrypt andrewwan
Player ID isandrewwan
On Connection:{"headers":{"x-forwarded-for":"101.78.215.254","x-forwarded-proto":"http","x-forwarded-port":"3000","host":"socketioloadbalancer-1642928803.us-east-1.elb.amazonaws.com:3000","x-amzn-trace-id":"Root=1-598ae2c0-092357e53ae562143c5698b5","upgrade":"websocket","connection":"upgrade","cookie":"AWSALB=","sec-websocket-key":"DMQMo9c03Y7nJH/QpRTDsA==","sec-websocket-version":"13","accept-encoding":"gzip","user-agent":"okhttp/3.8.1"},"time":"Wed Aug 09 2017 10:24:00 GMT+0000 (UTC)","address":"::ffff:172.31.24.250","xdomain":false,"secure":false,"issued":1502274240337,"url":"/socket.io/?EIO=3&playerId=andrewwan&pass=LyCnrCX0iHgRGm2b%2B5eHKg%3D%3D&transport=websocket","query":{"EIO":"3","playerId":"andrewwan","pass":"LyCnrCX0iHgRGm2b+5eHKg==","transport":"websocket"}}
player id andrewwan
hmsent register {"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":5,"awesome_chips":"99779","onlineStatus":"2"}
[ { id: { S: 'andrewwan' }, awesome_chips: { N: '99779' } } ]
hmsent awesomeChips {"awesome_id":"andrewwan","friendIds":"[\"andrewwan\",\"ant7\",\"123123123\",\"andrew-chevk\",\"ant5\",\"andrew\",\"ivannew\",\"awesome\",\"ck\",\"andrew-test\",\"descendentofsun\",\"howareyou\",\"vincent63472\",\"ivanlgpro2\",\"vincent9\",\"vincent8\",\"vincent6\",\"ant8\",\"ivan\",\"conniechen\",\"eddy\",\"elvis\",\"ivan-nokia6\",\"samsung\",\"testonly\",\"ivanlgv10\",\"vincent\",\"vincent7\",\"cara\",\"vincent31\",\"ant2\",\"a3\",\"ivanipad\",\"vincent5\",\"68666666\",\"ant1\",\"a6\",\"ant9\",\"ant3\",\"vincent32\",\"hellowin\",\"vincent2\",\"vincent28\",\"wilson\",\"an4\",\"ant4\"]","login_times":"5","awesome_chips":"99779","onlineStatus":"2"}
[0mGET / [32m200 [0m0.660 ms - 11[0m
[0mGET / [32m200 [0m1.133 ms - 11[0m
disconnect andrewwan
disconnect count 4
node_redis: Deprecated: The HMSET command contains a "undefined" argument.
This is converted to a "undefined" string now and will return an error from v.3.0 on.
Please handle this in your code to make sure everything works as you intended it to.
[0mGET / [32m200 [0m2.504 ms - 11[0m
[0mGET / [32m200 [0m1.369 ms - 11[0m
[0mGET / [32m200 [0m0.496 ms - 11[0m
[0mGET / [32m200 [0m0.536 ms - 11[0m
[0mGET / [32m200 [0m3.928 ms - 11[0m
[0mGET / [32m200 [0m3.799 ms - 11[0m
[0mGET / [32m200 [0m0.411 ms - 11[0m
[0mGET / [32m200 [0m0.466 ms - 11[0m
[0mGET / [32m200 [0m1.703 ms - 11[0m
[0mGET / [32m200 [0m2.600 ms - 11[0m
[0mGET / [32m200 [0m4.853 ms - 11[0m
[0mGET / [32m200 [0m3.201 ms - 11[0m
[0mGET / [32m200 [0m0.890 ms - 11[0m
[0mGET / [32m200 [0m0.742 ms - 11[0m
error: Forever detected script was killed by signal: SIGKILL
